//#-p stonebrick 0 -b -129 3 399 -print
///	Royal Rumble. Finally after all this time. :)
///	fill -113 3 399 -96 3 416 stonebrick 0

//<Random comments
FUNC Func_RandomComments

Horses:
West: 
summon EntityHorse ~-0.2 ~-0.4 ~ {ActiveEffects:[{Id:14b,Duration:10000000,ShowParticles:0b}],Rotation:[90f,0f],NoAI:1,NoGravity:1,Invulnerable:1,Silent:1,PersistenceRequired:1,Tags:["RRHorse"],Team:"NoPush"}

East: 
summon EntityHorse ~0.2 ~-0.4 ~ {ActiveEffects:[{Id:14b,Duration:10000000,ShowParticles:0b}],Rotation:[270f,0f],NoAI:1,NoGravity:1,Invulnerable:1,Silent:1,PersistenceRequired:1,Tags:["RRHorse"],Team:"NoPush"}

North: 
summon EntityHorse ~ ~-0.4 ~-0.2 {ActiveEffects:[{Id:14b,Duration:10000000,ShowParticles:0b}],Rotation:[180f,0f],NoAI:1,NoGravity:1,Invulnerable:1,Silent:1,PersistenceRequired:1,Tags:["RRHorse"],Team:"NoPush"}

South: 
summon EntityHorse ~ ~-0.4 ~0.2 {ActiveEffects:[{Id:14b,Duration:10000000,ShowParticles:0b}],Rotation:[0f,0f],NoAI:1,NoGravity:1,Invulnerable:1,Silent:1,PersistenceRequired:1,Tags:["RRHorse"],Team:"NoPush"}

scoreboard teams join NoPush @e[tag=RRHorse,r=10]
^Now not needed with {Team:"NoPush"}

summon Cow -25 9 424 {ActiveEffects:[{Id:14b,Duration:10000000,ShowParticles:0b}],Rotation:[180f,0f],NoAI:1,NoGravity:1,Invulnerable:1,Silent:1,PersistenceRequired:1,Tags:["RRHorse"],Team:"NoPush"}

Class ID: 0 = stealth, 1 = warrior, 2 = archer, 3 = engineer

Item loadouts:
0:
	Offhand:regular bow
	0:		wooden knife
	1:		reinforced bow
	3:		wooden shovel
	7:		rocket count
	inventory 0: regular arrow
	inventory 8: seeing stick
1:
2:
3:


-88 24 315 -88 18 345 is obsidian wall
-40 28 339 -44 25 335 lapis point 1
-115 19 328 -119 22 332 lapis point 2


Display:
Point1%
Point2%
Green
Blue
Minutes
Seconds

Minutes and Seconds are yellow
Green and blue are RRdg and RRdb
Point1% and Point2% is depending on what it is:
	0 to 50% + not during capture: blue
	51 to 80% + not during capture: dark_aqua
	81% to 99% + not during capture: aqua
	During capture: flashes between what it was at and green
	When captured: dark green
	12% of the time has to have the point captured?
	12% of 25 minutes is 180s, and that divided by 2 is 90s, equalling to 1800 ticks
		-Was approximately 2000 ticks (2040 to be specific). Would work though. (200 ticks converts to an added 10s per CP).
		-Will change accordingly
		
	Confirm item loadouts
	Make sure item loadouts work properly with arrows
	
setblock ~ ~1 ~ hopper 2 replace {Items:[{id:wool,Slot:0,Count:64},{id:wool,Slot:1,Count:64},{id:wool,Slot:2,Count:64},{id:wool,Slot:3,Count:64}]}
That was the original wool count: 4 stacks of 64. How long does it last?



Option for death timer, and include warp timer


///	DEFINE RIHead slot.armor.head |0|_helmet 1 0
///	DEFINE RIChest slot.armor.chest |0|_chestplate 1 0
///	DEFINE RILegs slot.armor.legs |0|_leggings 1 0
///	DEFINE RIFeet slot.armor.feet |0|_boots 1 0

END
//>

//<To Do
FUNC Func_ToDoThings
Mandatory:
	-Add rotations to teleporters
	
Additional:
	-Reduce lag
		-Eg. Seperate some functions of the main clock to seperate SetblockTestfor clocks
		-Eg. Change lingering potion to have the blue team throw a poison 1 while the green throws a poison 2 to differenciate between areaeffectclouds
		-Eg. See if there's a way to simplify the dispenser pig
			-Change the rotation pig to not require a tag
			-Pig on another pig might not work if two players place at the same time
	-XP Number to represent percent captured for the current capture point
	-Change the item names to have CCItem_ in it
	-Change ID to 1,2,3,4 instead of the current 0,1,2,3
	
Features:
	-Changed the executes of the teleporter
	
END
//>


//<Defines
DEFINE $SA$ x=-153,y=0,z=299,dx=158,dy=110,dz=168
DEFINE $SPid$ #
DEFINE $SPpvp$ 0
DEFINE $SPsat$ 0

DEFINE $CMDName$ RR
DEFINE $CMDSizeX$ 16
DEFINE $CMDSizeY$ 32
DEFINE $CMDSizeZ$ 16

DEFINE $TextStart$ {"text":"","extra":[{"text":"[","color":"gray","bold":true},{"text":"R","color":"blue","bold":true},{"text":"R","color":"dark_green","bold":true},{"text":"]:","color":"gray","bold":true},{"text":" "},

DEFINE $mod$ 0.4
DEFINE $SpawnG$ -64 17 431
DEFINE $SpawnB$ -138 26 330

///	Placement of the AreaEffectCloud (particle)
DEFINE $TPPart1$ -62.43 14 421.6
DEFINE $TPPart2$ -64.43 14 421.6
DEFINE $TPPart3$ -66.43 14 421.6
DEFINE $TPPart4$ -68.43 14 421.6
DEFINE $TPPart5$ -68.4 14 415.6
DEFINE $TPPart6$ -66.4 14 415.6
DEFINE $TPPart7$ -64.4 14 415.6
DEFINE $TPPart8$ -62.4 14 415.6
DEFINE $TPPart9$ -13.43 28 313.6
DEFINE $TPPart10$ -137.43 27 315.6

///	Placement of the AreaEffectCloud (teleport)
DEFINE $TPTele1$ -62.5 14.8 422.2
DEFINE $TPTele2$ -64.5 14.8 422.2
DEFINE $TPTele3$ -66.5 14.8 422.2
DEFINE $TPTele4$ -68.5 14.8 422.2
DEFINE $TPTele5$ -68.5 14.8 414.8
DEFINE $TPTele6$ -66.5 14.8 414.8
DEFINE $TPTele7$ -64.5 14.8 414.8
DEFINE $TPTele8$ -62.5 14.8 414.8
DEFINE $TPTele9$ -13.5 27.1 313.5
DEFINE $TPTele10$ -137.5 26.1 315.5

///	Teleport to positions
DEFINE $TPPos1$ -61 38 426
DEFINE $TPPos2$ -56 22 443
DEFINE $TPPos3$ -14 28 452 90 0
DEFINE $TPPos4$ -14 28 400 90 0
DEFINE $TPPos5$ -12 34 362
DEFINE $TPPos6$ -85 20 379
DEFINE $TPPos7$ -14 25 326
DEFINE $TPPos8$ -69 49 354
DEFINE $TPPos9$ -138 26 330
DEFINE $TPPos10$ -70 28 313

///	Stained glass placement
DEFINE $TPGlass1$ -61 37 426
DEFINE $TPGlass2$ -56 21 443
DEFINE $TPGlass3$ -14 27 452
DEFINE $TPGlass4$ -14 27 400
DEFINE $TPGlass5$ -12 33 362
DEFINE $TPGlass6$ -85 19 379
DEFINE $TPGlass7$ -14 24 326
DEFINE $TPGlass8$ -69 48 354

///	Redstone block placement
DEFINE $TPRdst1$ -56 38 426
DEFINE $TPRdst2$ -56 23 440
DEFINE $TPRdst3$ -14 28 450
DEFINE $TPRdst4$ -11 28 400
DEFINE $TPRdst5$ -9 34 362
DEFINE $TPRdst6$ -85 20 375
DEFINE $TPRdst7$ -17 25 326
DEFINE $TPRdst8$ -73 49 354

///	Teleportation locations when approaching a wall
DEFINE $TeleportTo1$ ~-1 ~ ~
DEFINE $TeleportTo2$ ~1 ~ ~
DEFINE $TeleportTo3$ ~ ~ ~-1
DEFINE $TeleportTo4$ ~ ~ ~1
DEFINE $TeleportTo5$ ~2 ~ ~
DEFINE $TeleportTo6$ ~ 28 347
DEFINE $TeleportTo7$ -133 28 347
DEFINE $TeleportTo8$ -133 28 313
DEFINE $TeleportTo9$ ~ 26 321
DEFINE $TeleportTo10$ -76 28 313
DEFINE $TeleportTo11$ -57 25 409

///	Corners of the point where fireworks shoot off if captured
DEFINE $Firework1AS1$ -40 29 335
DEFINE $Firework1AS2$ -40 29 339
DEFINE $Firework1AS3$ -44 29 339
DEFINE $Firework1AS4$ -44 29 335

DEFINE $Firework2AS1$ -119 23 328
DEFINE $Firework2AS2$ -115 23 328
DEFINE $Firework2AS3$ -115 23 332
DEFINE $Firework2AS4$ -119 23 332

///	Easter Egg redstone block placements
///	Tree
DEFINE $EasterEgg1$ -94 24 420
///	Rubble near 1st point
DEFINE $EasterEgg2$ -24 19 335
///	Rubble near green spawn
DEFINE $EasterEgg3$ -74 15 388
///	Underwater at bridge
DEFINE $EasterEgg4$ -5 15 369
///	Underwater at corner
DEFINE $EasterEgg5$ -3 22 324

DEFINE $Firework$ FireworksRocketEntity ~ ~ ~ {LifeTime:20,FireworksItem:{id:fireworks,Count:1,tag:{Fireworks:{Explosions:[{Type:0,Flicker:1,Trail:0,Colors:[41728,65280],FadeColors:[2883328]}]}}}}
DEFINE $SandLine$ -89 24 315 -89 24 345
DEFINE $SandWall$ -89 24 345 -89 18 315

DEFINE $CPBlock1$ -42 22 337
DEFINE $CPBlock2$ -117 16 330

DEFINE $GreenPortal$ x=-112,y=19,z=471,dx=1,dy=3
DEFINE $BluePortal$ x=-95,y=19,z=471,dx=1,dy=3
//>

//<Class specific + item defines
///	Universal
	DEFINE CCItem_RedstoneGive slot.weapon.offhand redstone_block |0| 0 {HideFlags:127,CanDestroy:["minecraft:sand"],display:{Lore:["Can only be placed","on pistons"]},CanPlaceOn:["minecraft:sticky_piston"],ench:[{id:0,lvl:1}]}
	DEFINE CCItem_GlassPaneG slot.hotbar.8 stained_glass_pane 1 5 {HideFlags:127,display:{Name:"You are on Green"},CanDestroy:["minecraft:sand"]}
	DEFINE CCItem_GlassPaneB slot.hotbar.8 stained_glass_pane 1 3 {HideFlags:127,display:{Name:"You are on Blue"},CanDestroy:["minecraft:sand"]}

///	Stealth
	DEFINE StealItemSpeed dye 1 12 {HideFlags:127,CanDestroy:["minecraft:sand"],display:{Name:"Speed Boost",Lore:["Speed 4"]},ench:[{id:0,lvl:1}],AttributeModifiers:[{AttributeName:"generic.movementSpeed",Name:"anything",Amount:0.8,Operation:1,UUIDLeast:1,UUIDMost:1}]}
	DEFINE StealItemJump dye 1 10 {HideFlags:127,CanDestroy:["minecraft:sand"],display:{Name:"Jump Boost",Lore:["Jump Boost 3"]},ench:[{id:0,lvl:1}]}
	DEFINE StealItemCloak carrot_on_a_stick 1 0 {Unbreakable:1,HideFlags:127,CanDestroy:["minecraft:sand"],display:{Name:"Cloaking Device",Lore:["Lasts 7 seconds on full charge","Cannot use items while cloaked"]}}
	DEFINE StealItemKnife golden_sword 1 32 {HideFlags:127,ench:[{id:16,lvl:47}],display:{Name:"Big Earner",Lore:["1 hit kills any engieneer.","Gives 75% cloak and","a 5 second speed boost","if the victim was an engie."]}}
	DEFINE StealItemPoison lingering_potion 1 0 {HideFlags:127,CanDestroy:["minecraft:sand"],Potion:"minecraft:poison",CustomPotionEffects:[{Id:19b,Amplifier:10b,Duration:0}],display:{Lore:["Area of Effect poison cloud","Lasts 10 seconds, radius of 3","Only affects the other team"]}}
	DEFINE StealItemRestock carrot_on_a_stick 1 0 {Unbreakable:1,HideFlags:127,CanDestroy:["minecraft:sand"],display:{Name:"Restocks Ammo",Lore:["Restores the potion","and the Big Earner.","Takes 7s to restock","while given blindness"]}}

	DEFINE StealItemHeadG slot.armor.head wool 1 5 {Unbreakable:1,display:{Name:"The most unbreakable wool block"}}
	DEFINE StealItemHeadB slot.armor.head wool 1 3 {Unbreakable:1,display:{Name:"The most unbreakable wool block"}}
///	DEFINE StealItemBleach potion 1 0 {HideFlags:127,CanDestroy:["minecraft:sand"],Potion:"invisibility",CustomPotionEffects:[{Id:7b,Amplifier:100b,Duration:1000000}],display:{Name:"Bleach",Lore:["Don't drink this in real life","Seriously"]}}

///	Warrior
	DEFINE WarrItemSword iron_sword 1 0 {Unbreakable:1,HideFlags:127,CanDestroy:["minecraft:sand"],AttributeModifiers:[{AttributeName:"generic.movementSpeed",Name:"anything",Amount:-0.15,Operation:1,UUIDLeast:1,UUIDMost:1,Slot:mainhand},{AttributeName:"generic.attackSpeed",Name:"anything",Amount:-2.4,Operation:0,UUIDLeast:1,UUIDMost:1,Slot:mainhand},{AttributeName:"generic.attackDamage",Name:"anything",Amount:10,Operation:0,UUIDLeast:1,UUIDMost:1,Slot:mainhand}],display:{Lore:["Holding this will","make you slower"]}}
	DEFINE WarrItemShieldG shield 1 10 {Unbreakable:1,HideFlags:127,CanDestroy:["minecraft:sand"],BlockEntityTag:{Patterns:[],Base:10}}
	DEFINE WarrItemShieldB shield 1 12 {Unbreakable:1,HideFlags:127,CanDestroy:["minecraft:sand"],BlockEntityTag:{Patterns:[],Base:12}}

	DEFINE WarrItemHead slot.armor.head iron_helmet 1 0 {Unbreakable:1,HideFlags:127}
	DEFINE WarrItemChest slot.armor.chest iron_chestplate 1 0 {Unbreakable:1,HideFlags:127}
	DEFINE WarrItemLegs slot.armor.legs iron_leggings 1 0 {Unbreakable:1,HideFlags:127}
	DEFINE WarrItemFeet slot.armor.feet iron_boots 1 0 {Unbreakable:1,HideFlags:127}

///	Archer
	DEFINE ArchItemBow bow 1 0 {Unbreakable:1,HideFlags:127,CanDestroy:["minecraft:sand"],ench:[{id:51,lvl:1}],display:{Name:"Regular bow",Lore:["Infinity 1"]}}
	DEFINE ArchItemKnife wooden_sword 1 0 {Unbreakable:1,HideFlags:127,CanDestroy:["minecraft:sand"],AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"anything",Amount:-1.5,Operation:0,UUIDLeast:1,UUIDMost:1,Slot:mainhand},{AttributeName:"generic.attackDamage",Name:"anything",Amount:1,Operation:0,UUIDLeast:1,UUIDMost:1,Slot:mainhand}],display:{Name:"Wooden Knife",Lore:["Normally shoots out","pixelized toys"]}}
	DEFINE ArchItemReinforced bow 1 0 {Unbreakable:1,HideFlags:127,CanDestroy:["minecraft:sand"],ench:[{id:48,lvl:3}],display:{Name:"Reinforced bow",Lore:["Shoots explosive arrows","Power 3"]}}
	DEFINE ArchItemStick stick 1 0 {Unbreakable:1,HideFlags:127,CanDestroy:["minecraft:sand"],display:{Name:"The Scoping Stick",Lore:["Zooms in and makes you"," immobile when held"]},AttributeModifiers:[{AttributeName:"generic.movementSpeed",Name:"anything",Amount:-3,Operation:1,UUIDLeast:1,UUIDMost:1,Slot:mainhand}]}
	DEFINE ArchItemRocket arrow |0| |1| {HideFlags:127,CanDestroy:["minecraft:sand"],display:{Name:"Rocket(s)"}}
	DEFINE ArchItemArrow arrow |0| |1| {HideFlags:127,CanDestroy:["minecraft:sand"],display:{Name:"A Regular Arrow",Lore:["Magically disappears when","you use the reinforced bow"]}}

	DEFINE ArchItemHeadG slot.armor.head leather_helmet 1 0 {Unbreakable:1,HideFlags:127,display:{color:2490112}}
	DEFINE ArchItemHeadB slot.armor.head leather_helmet 1 0 {Unbreakable:1,HideFlags:127,display:{color:6724056}}
	DEFINE ArchItemChest slot.armor.chest chainmail_chestplate 1 0 {Unbreakable:1,HideFlags:127}
	DEFINE ArchItemLegs slot.armor.legs chainmail_leggings 1 0 {Unbreakable:1,HideFlags:127}
	DEFINE ArchItemFeet slot.armor.feet chainmail_boots 1 0 {Unbreakable:1,HideFlags:127}

///	Engineer
	DEFINE EngieItemPickaxe diamond_pickaxe 1 0 {Unbreakable:1,HideFlags:127,ench:[{id:32,lvl:1}],CanDestroy:["minecraft:obsidian","minecraft:redstone_block","minecraft:sand"],AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"anything",Amount:-3.0,Operation:0,UUIDLeast:1,UUIDMost:1,Slot:mainhand},{AttributeName:"generic.attackDamage",Name:"anything",Amount:3.5,Operation:0,UUIDLeast:1,UUIDMost:1,Slot:mainhand}],display:{Lore:["Breaks redstone blocks,","obsidian and sand","Efficiency 1"]}}
	DEFINE EngieItemBow bow 1 0 {Unbreakable:1,HideFlags:127,CanDestroy:["minecraft:sand"],display:{Lore:["Shoots blindness arrows"]}}
	DEFINE EngieItemPotion potion 1 0 {Potion:"water_breathing",HideFlags:127,CanDestroy:["minecraft:sand"],display:{Name:"Potion of Teleportation",Lore:["Teleports you back to spawn"]}}
	DEFINE EngieItemPickup carrot_on_a_stick 1 0 {Unbreakable:1,HideFlags:127,CanDestroy:["minecraft:sand"],display:{Name:"Pickup",Lore:["Picks up in a 3 block radius","Cannot attack while holding the pig"]}}
	DEFINE EngieItemDestruct carrot_on_a_stick 1 0 {Unbreakable:1,HideFlags:127,CanDestroy:["minecraft:sand"],display:{Name:"Self Destruct",Lore:["8 second delay before","placing a new pig"]}}
	DEFINE EngieItemEggG spawn_egg 1 0 {HideFlags:127,CanDestroy:["minecraft:sand"],display:{Name:"Dispenser Pig",Lore:["Oink"]},EntityTag:{id:"Pig",Invulnerable:1,Health:4.0f,CustomName:"Dispenser Pig - Green",CustomNameVisible:0,Tags:["RRPigDispenser","RRPig","RRPigGreen"],NoAI:1,DeathLootTable:"",ActiveEffects:[{Ambient:0b,ShowParticles:0b,Duration:1000000,Id:10b,Amplifier:1b}],Attributes:[{Name:"generic.knockbackResistance",Base:1}]},CanPlaceOn:["stone","grass","dirt","cobblestone","planks","sand","gravel","log","leaves","glass","sandstone","wool","tallgrass","yellow_flower","red_flower","stone_slab","brick_block","tnt","bookshelf","mossy_cobblestone","obsidian","torch","ice","netherrack","glowstone","stained_glass","stonebrick","chest","iron_bars","glass_pane","lilypad","redstone_lamp","wooden_slab","cobblestone_wall","stained_hardened_clay","stained_glass_pane","leaves2","log2","sea_lantern","prismarine","carpet","hardened_clay","double_plant","packed_ice","lapis_block","gold_block","iron_block","diamond_block","emerald_block","redstone_block","quartz_block","sandstone_stairs","coal_block","oak_stairs","stone_stairs","quartz_stairs","fence","ladder","stone_brick_stairs","nether_brick","wall_sign","standing_sign","iron_trapdoor","hay_block","double_stone_slab"]}
	DEFINE EngieItemEggB spawn_egg 1 0 {HideFlags:127,CanDestroy:["minecraft:sand"],display:{Name:"Dispenser Pig",Lore:["Oink"]},EntityTag:{id:"Pig",Invulnerable:1,Health:4.0f,CustomName:"Dispenser Pig - Blue",CustomNameVisible:0,Tags:["RRPigDispenser","RRPig","RRPigBlue"],NoAI:1,DeathLootTable:"",ActiveEffects:[{Ambient:0b,ShowParticles:0b,Duration:1000000,Id:10b,Amplifier:1b}],Attributes:[{Name:"generic.knockbackResistance",Base:1}]},CanPlaceOn:["stone","grass","dirt","cobblestone","planks","sand","gravel","log","leaves","glass","sandstone","wool","tallgrass","yellow_flower","red_flower","stone_slab","brick_block","tnt","bookshelf","mossy_cobblestone","obsidian","torch","ice","netherrack","glowstone","stained_glass","stonebrick","chest","iron_bars","glass_pane","lilypad","redstone_lamp","wooden_slab","cobblestone_wall","stained_hardened_clay","stained_glass_pane","leaves2","log2","sea_lantern","prismarine","carpet","hardened_clay","double_plant","packed_ice","lapis_block","gold_block","iron_block","diamond_block","emerald_block","redstone_block","quartz_block","sandstone_stairs","coal_block","oak_stairs","stone_stairs","quartz_stairs","fence","ladder","stone_brick_stairs","nether_brick","wall_sign","standing_sign","iron_trapdoor","hay_block","double_stone_slab"]}
	DEFINE EngieItemArrow tipped_arrow |0| |1| {Potion:"blindness",CustomPotionEffects:[{Id:15b,Amplifier:0b,Duration:160}],HideFlags:127,display:{Name:"Arrows of Blindness",Lore:["Lasts 8 seconds"]}}

	DEFINE EngieItemHeadG slot.armor.head leather_helmet 1 0 {Unbreakable:1,HideFlags:127,display:{color:2490112}}
	DEFINE EngieItemHeadB slot.armor.head leather_helmet 1 0 {Unbreakable:1,HideFlags:127,display:{color:6724056}}
	DEFINE EngieItemChestG slot.armor.chest leather_chestplate 1 0 {Unbreakable:1,HideFlags:127,display:{color:2490112}}
	DEFINE EngieItemChestB slot.armor.chest leather_chestplate 1 0 {Unbreakable:1,HideFlags:127,display:{color:6724056}}
	DEFINE EngieItemLegsG slot.armor.legs leather_leggings 1 0 {Unbreakable:1,HideFlags:127,display:{color:2490112}}
	DEFINE EngieItemLegsB slot.armor.legs leather_leggings 1 0 {Unbreakable:1,HideFlags:127,display:{color:6724056}}
	DEFINE EngieItemFeetG slot.armor.feet leather_boots 1 0 {Unbreakable:1,HideFlags:127,display:{color:2490112}}
	DEFINE EngieItemFeetB slot.armor.feet leather_boots 1 0 {Unbreakable:1,HideFlags:127,display:{color:6724056}}

///	Stealth Cloak Options
DEFINE $StealthCloakMax$ 280
DEFINE $StealthCloakDispenserRegen$ 1
DEFINE $StealthCloakRegen$ 2
DEFINE $StealthCloakRemove$ 2
DEFINE $StealthCloakSecond$ 40

///	Stealth Poison Cloud options
DEFINE $StealthPoisonRadius$ 4

///	Stealth Big Earner options
DEFINE $StealthKnifeCloak$ 210
DEFINE $StealthKnifeSpeedDuration$ 5
DEFINE $StealthKnifeSpeedLevel$ 1

///	Stealth Restocking options
DEFINE $StealthRestockDelay$ 140

///	Archer Arrow Explosion Radius options
DEFINE $ArcherExplosionNear$ 2
DEFINE $ArcherExplosionFar$ 4
DEFINE $ArcherExplosionSelfNear$ 2
DEFINE $ArcherExplosionSelfFar$ 4

///	Engie Regeneration options
DEFINE $EngieRegenRadius$ 4
DEFINE $EngieRegenDelay$ 60

///	Engie Teleport Delay
DEFINE $EngieTeleportDelay$ 30

///	Dispenser options
DEFINE $DispenserRadius$ 3
DEFINE $DispenserRegenDelay$ 30
DEFINE $DispenserRocketDelay$ 80
DEFINE $DispenserBlindnessDelay$ 140
DEFINE $EngiePickupDeath$ 350
DEFINE $EngiePickupDestruct$ 250
DEFINE $EngiePickupDelay$ 60

PCBPIMPORT PCBPI_PosX.txt
//>


//<Arrowproof Green Spawn
FUNC Func_ArrowproofGreenSpawn
	particle happyVillager -57.0 27.0 410 1.5 1 0 0 1 force @a
	@e[x=-60,y=25,z=410,dx=5,dy=2,dz=3,type=Arrow,RRat=2] playsound minecraft:entity.item.pickup voice @a[r=10]
	$s$kill @e[x=-60,y=25,z=410,dx=5,dy=2,dz=3,type=Arrow,RRat=2]
	
	particle happyVillager -47 23 425 0 1 1 0 1 force @a
	@e[x=-47,y=21,z=423,dx=-3,dy=4,dz=4,type=Arrow,RRat=2] playsound minecraft:entity.item.pickup voice @a[r=10]
	$s$kill @e[x=-47,y=21,z=423,dx=-3,dy=4,dz=4,type=Arrow,RRat=2]
	
END
//>

//<Arrowproof Blue Spawn
FUNC Func_ArrowproofBlueSpawn
	particle magicCrit -132 28.5 320 0 1.5 1.5 0 7 force @a
	@e[x=-132,y=26,z=318,dy=5,dz=4,type=Arrow,RRat=1] playsound minecraft:entity.item.pickup voice @a[r=10]
	$s$kill @e[x=-132,y=26,z=318,dy=5,dz=4,type=Arrow,RRat=1]
	
	particle magicCrit -132 28.5 330 0 1.5 1.5 0 7 force @a
	@e[x=-132,y=26,z=328,dy=5,dz=4,type=Arrow,RRat=1] playsound minecraft:entity.item.pickup voice @a[r=10]
	$s$kill @e[x=-132,y=26,z=328,dy=5,dz=4,type=Arrow,RRat=1]
	
	particle magicCrit -132 28.5 340 0 1.5 1.5 0 7 force @a
	@e[x=-132,y=26,z=338,dy=5,dz=4,type=Arrow,RRat=1] playsound minecraft:entity.item.pickup voice @a[r=10]
	$s$kill @e[x=-132,y=26,z=338,dy=5,dz=4,type=Arrow,RRat=1]
	
	particle magicCrit -133 28 344 0.25 0.75 0 0 2 force @a
	particle magicCrit -133 28 316 0.25 0.75 0 0 2 force @a
	@e[x=-133,y=26,z=316,dy=5,dz=28,type=Arrow,RRat=1] playsound minecraft:entity.item.pickup voice @a[r=10]
	$s$kill @e[x=-133,y=26,z=316,dy=5,dz=28,type=Arrow,RRat=1]
END
//>

//<Arrowproof Blue Mansion
FUNC Func_ArrowproofBlueMansion
	particle magicCrit -42 30 320 5 2 0 0 30 force @a
	particle magicCrit -73 29 313 0 0.5 0.25 0 2 force @a
	@e[x=-73,y=27,z=313,dx=41,dy=6,dz=7,type=Arrow,RRat=1] playsound minecraft:entity.item.pickup voice @a[r=10]
	$s$kill @e[x=-73,y=27,z=313,dx=41,dy=6,dz=7,type=Arrow,RRat=1]
END
//>

//<Random Commands
FUNC Func_RandomCommands
	LOOP 9 10 + 1
		say Open teleporter |0|
		@e[type=AreaEffectCloud,RRtpi=|0|] RRtpo = 1
		@e[type=AreaEffectCloud,RRtpi=|0|] RRtpo = 3
		tellraw @a $TextStart${"text":"Teleporter |0|","color":"blue"},{"text":" is now enabled for ","color":"gray"},{"text":"blue!","color":"blue"}]}
	END
	
	say Removing teams
	scoreboard teams remove RRg
	scoreboard teams remove RRb
	
	say Add 1 minute
	@e[type=ArmorStand,RRTimer] RRti2 + 60
	tellraw @a $TextStart${"text":"1 minute has been added to the clock!","color":"yellow"}]}
	
	say Remove 1 minute
	@e[type=ArmorStand,RRTimer] RRti2 - 60
	tellraw @a $TextStart${"text":"1 minute has been remove from the clock!","color":"yellow"}]}
	
	say Pause the time
	@e[type=ArmorStand,RRTimer] RRti = -1
	tellraw @a $TextStart${"text":"The clock has been paused!","color":"yellow"}]}
	
	say Resuming the time
	@e[type=ArmorStand,RRTimer,RRti] RRti = 0
	tellraw @a $TextStart${"text":"The clock has been resumed!","color":"yellow"}]}
END
//>


//<Particle Testfor Clock
FUNC Func_ParticleTFClock
	testfor @e[type=AreaEffectCloud,RRParticle,RRtpo=2,RRpat=0]
	SetblockTestfor
	
	@e[type=AreaEffectCloud,RRParticle,RRtpo=2,RRpa>=0<=71] RRpa + 1
	@e[type=AreaEffectCloud,RRParticle,RRtpo=2,RRpa>=72] RRpa = 1
	LOOP 1 72 + 1 () 15 1080 + 15.0 () 195 1260 + 15.0 () 5 360 + 5.0
		//say Tick |0| Angle |2| OppAngle |4| YAngle |6|
		@e[type=AreaEffectCloud,RRParticle,RRtpo=2,RRpa=|0|] 'particle happyVillager ~'MUL(SIN(|2|);$mod$)' ~'ADD(MUL(SIN(|6|);1.5);1.5)' ~'MUL(COS(|2|);$mod$)' 0 0 0 0 0 force'
		@e[type=AreaEffectCloud,RRParticle,RRtpo=2,RRpa=|0|] 'particle happyVillager ~'MUL(SIN(|4|);$mod$)' ~'ADD(MUL(SIN(|6|);1.5);1.5)' ~'MUL(COS(|4|);$mod$)' 0 0 0 0 0 force'
	END
END
//>

//<Simple Particle Testfor Clock
FUNC Func_SimpleParticleTFClock
	testfor @e[type=AreaEffectCloud,RRParticle,RRtpo=2,RRpat=1]
	SetblockTestfor
	@e[type=AreaEffectCloud,RRParticle,RRtpo=2] particle happyVillager ~ ~1.25 ~ 0.3 1.5 0.3 0 2 force
END
//>


//<Universal Class Change
FUNC Func_UniversalGive
///	Heals, clears
	$s$clear @a[$SA$,m=2,|0|]
	effect @a[$SA$,m=2,|0|] clear
	effect @a[$SA$,m=2,|0|] 6 1 100 true
	effect @a[$SA$,m=2,|0|] 11 3 4 true
	
///	Sets scoreboards to reduce lag in clocks
	@a[$SA$,m=2,|0|] RRre = 60
	@a[$SA$,m=2,|0|] RRrs = 0
	@a[$SA$,m=2,|0|] RRaf + 0
	@a[$SA$,m=2,|0|] RRpi + 0
	@a[$SA$,m=2,|0|] RRar + 0
	@a[$SA$,m=2,|0|] RRrg + 0
	@a[$SA$,m=2,|0|] RRao + 0
	@a[$SA$,m=2,|0|] RRue + 0
	@a[$SA$,m=2,|0|] RRte + 0
	@a[$SA$,m=2,|0|] RRtp + 0
	@a[$SA$,m=2,|0|] stats entity @a[r=0,c=1,m=2,|0|] set AffectedItems @a[r=0,c=1] RRaf
	
///	Glass panes
	replaceitem entity @a[$SA$,m=2,|0|,team=RRg] CCItem_GlassPaneG
	replaceitem entity @a[$SA$,m=2,|0|,team=RRb] CCItem_GlassPaneB
END
//>


//<Switch teams
FUNC Func_SwitchTeams
	scoreboard teams add RRs_g Switch to green
	scoreboard teams add RRs_b Switch to blue
	ScTJ RRs_b @a[team=RRg]
	ScTJ RRs_g @a[team=RRb]
	scoreboard teams empty RRg
	scoreboard teams empty RRb
	ScTJ RRb @a[team=RRs_b]
	ScTJ RRg @a[team=RRs_g]
	$s$clear @a[m=2,RRpi>=0]
	$s$effect @a[m=2,RRpi>=0] clear
	scoreboard teams remove RRs_g
	scoreboard teams remove RRs_b
END
//>


//<Portal Start
FUNC Func_PortalStart
	USE $ObjA$
		RRdi dummy Players
		RRdc dummy Display Calc
		RRsl dummy Player Select
	UNUSE
	
	scoreboard objectives setdisplay sidebar RRdi
	
	scoreboard teams add RRg RR Green
	scoreboard teams add RRb RR Blue
	scoreboard teams option RRg color green
	scoreboard teams option RRb color blue
	scoreboard teams option RRg nametagVisibility hideForOtherTeams
	scoreboard teams option RRb nametagVisibility hideForOtherTeams
	scoreboard teams option RRg friendlyfire false
	scoreboard teams option RRb friendlyfire false
	
	Green RRdi + 0
	Blue RRdi + 0
	ScTJ RRg Green
	ScTJ RRb Blue
END
//>

//<Portal Clock
FUNC Func_PortalClock
	@a[$GreenPortal$] RRsl = 1
	@a[$BluePortal$] RRsl = 2
	
	$s$gamemode 2 @a[RRsl>=1,m=0]
	$s$clear @a[RRsl>=1,m=2]
	effect @a[RRsl>=1,m=2] clear
	ScTJ RRg @a[RRsl=1,m=2]
	ScTJ RRb @a[RRsl=2,m=2]
	$s$tp @a[team=RRg,RRsl=1] $SpawnG$
	$s$tp @a[team=RRb,RRsl=2] $SpawnB$
	
	@a[m=2,RRsl>=1] playsound minecraft:entity.endermen.teleport voice @a[c=1]
	@a[m=2,RRsl=1] particle happyVillager ~0.1 ~1 ~0.1 0.3 0.5 0.3 1 20 force
	@a[m=2,RRsl=2] particle magicCrit ~ ~1 ~ 0.3 0.7 0.3 0 30 force
	
	@a[m=2,RRsl>=1] RRsl = 0
	
	particle happyVillager -110.8 20 471.5 0.7 1 0.3 0 2 force @a
	particle magicCrit -94.0 20 471.5 0.7 1 0.3 0 10 force @a
	
///	Counter
	Green RRdc = 0
	@a[team=RRg,m=2] Green RRdc + 1
	ScOP Green RRdi = Green RRdc
	Blue RRdc = 0
	@a[team=RRb,m=2] Blue RRdc + 1
	ScOP Blue RRdi = Blue RRdc
END
//>

//<Portal End
FUNC Func_PortalEnd
	USE $ObjR$
		RRdi
		RRdc
		RRsl
	UNUSE
END
//>


//<General Scoreboard Start
FUNC Func_GeneralScoreboardStart
	USE $ObjA$
		RR dummy Royal Rumble
		RRci dummy RR Class ID
		RRpi dummy RR Player ID
		RRcs stat.useItem.minecraft.carrot_on_a_stick RR Carrot Stick
		RRde deathCount RR Deaths
		RRki playerKillCount Kills
		RRaf dummy RR Stats Affected Items
		RRhi dummy RR Holding Item
		RRed dummy RR Edit
		RRre dummy RR Resistance
		RRtp dummy RR Teleport
		RRte dummy RR Teleport Effects
		RRee dummy RR Easter Egg
		RRec dummy RR Easter Egg Counter
		RRsg dummy RR Sand Generator
		RRxp dummy RR XP Calculations
		RRcn dummy RR Coin
		RRdt dummy RR Death Timer
		RRjd dummy RR Jade
		NumberObjAdd
	UNUSE
	scoreboard teams add RRg RR Green
	scoreboard teams add RRb RR Blue
	scoreboard teams option RRg color green
	scoreboard teams option RRb color blue
	scoreboard teams option RRg nametagVisibility hideForOtherTeams
	scoreboard teams option RRb nametagVisibility hideForOtherTeams
	scoreboard teams option RRg friendlyfire false
	scoreboard teams option RRb friendlyfire false
	
///	Change collisionRule if bug MC-87984 is fixed
	
	scoreboard teams option RRg collisionRule pushOwnTeam
	scoreboard teams option RRb collisionRule pushOwnTeam
	
	gamerule keepInventory true
	gamerule naturalRegeneration false
	gamerule doTileDrops false
	gamerule doDaylightCycle false
	$s$time set 0
	
	scoreboard objectives setdisplay list RRci
	effect @e[RRHorse] 14 1000000 0 true
	
	Point1% RR + 0
	Point2% RR + 0
	Green RR + 0
	Blue RR + 0
	scoreboard objectives setdisplay sidebar RR
	
	Countdown RRed = 120
	InitialTime RRed = 600
	AddedTime RRed = 600
	Overtime RRed = 5
	@e[type=ArmorStand,RRJade] RRjd + 0
	
///	Book for EC (RRBook)
	setblock -128 1 400 redstone_block 0
	
	NumberAdd(2)
	NumberAdd(6)
	NumberAdd(20)
	NumberAdd(40)
	NumberAdd(60)
	NumberAdd(100)
	NumberAdd(2000)
	NumberAdd($StealthCloakMax$)
	NumberAdd($StealthRestockDelay$)
	NumberAdd($EngiePickupDeath$)
	NumberAdd($EngiePickupDelay$)
END
//>

//<General Scoreboard Clock
FUNC Func_GeneralScoreboardClock
	$s$clear @a[$SA$,m=0]
	effect @a[$SA$,m=0] clear
	effect @a[$SA$,m=0] 6 1 100 true
	$s$gamemode 2 @a[$SA$,m=0]
	$s$weather clear 1000000

///	Jade Armor stand
	$s$tp @e[type=ArmorStand,RRJade] ~ ~ ~ ~10 ~
	@e[type=ArmorStand,RRJade,RRjd>=0<=4] RRjd + 1
	@e[type=ArmorStand,RRJade,RRjd=5] summon Item -28 13 446 {Item:{id:emerald,Count:1b},PickupDelay:32767s,Age:5988s,Tags:["RRJadeItem"]}
	@e[type=ArmorStand,RRJade,RRjd=5] RRjd = 0
	
///	Fail Safe Switch at Foxy's area
	$s$kill @e[x=-27,y=8,z=422,r=10,type=PrimedTnt]
	
///	All items are killed here. Change if necessary
	@e[$SA$,type=Item] RRcn + 0
	@e[x=-22,y=8,z=436,r=50,type=Item,RRcn=0] RRcn = 1 {Item:{tag:{display:{Name:"Money"}}}}
	entitydata @e[x=-22,y=8,z=436,r=50,type=Item,RRcn=1] {CustomName:"Money",CustomNameVisible:1,Age:5800s,PickupDelay:32767s}
	@e[x=-22,y=8,z=436,r=50,type=Item,RRcn=1] RRcn = 2
	@e[type=Item,RRJadeItem,RRcn=0] RRcn = 2
	$s$kill @e[$SA$,type=Item,RRcn=0]
	
///	All XP orbs are killed here. Change if necessary
	$s$kill @e[$SA$,type=XPOrb]
///	All XP is removed here. Change if necessary
	$s$xp -2147483648L @a[$SA$,m=2]
	
///	Player ID
	@a[$SA$,m=2,RRpi=0,c=1] PlayerNumber RRpi + 1
	ScOP @a[$SA$,m=2,RRpi=0,c=1] RRpi = PlayerNumber RRpi

///	Display for number of green/blue
///	Uses RRpi because it's not really being used for much else
	Green RRpi = 0
	Blue RRpi = 0
	@a[m=2,RRpi>=0,team=RRg] Green RRpi + 1
	@a[m=2,RRpi>=0,team=RRb] Blue RRpi + 1
	ScOP Green RR = Green RRpi
	ScOP Blue RR = Blue RRpi
	
//	1: West - wool 1 			~-1 ~ ~
//	2: East - wool 2			~1 ~ ~
//	3: North - wool 3			~ ~ ~-1
//	4: South - wool 4			~ ~ ~1
///	CUSTOM
//	5: 2 blocks east - wool 5	~2 ~ ~
//	6: -97 28 ~ - wool 6		-97 28 ~	
//	7: -133 28 347 - wool 7		-133 28 347
//	8: -133 28 313 - wool 8		-133 28 313
//	9: -32 26 ~ - wool 9		-32 26 ~
//	10: -76 28 313 - wool 10	-76 28 313
//	11: -57 25 409 - wool 11	-57 25 409
//	playsound minecraft:entity.endermen.teleport voice @a[c=1]
	
	@a[$SA$,m=2,RRte=0] stained_hardened_clay 0 ~ 0 ~ @a[m=2,RRte=0,r=1,c=1] RRte = 1
	@a[$SA$,m=2,RRte=0,team=RRb] stained_hardened_clay 5 ~ 0 ~ @a[m=2,RRte=0,team=RRb,r=1,c=1] RRte = 2
	@a[$SA$,m=2,RRte=0,team=RRg] stained_hardened_clay 3 ~ 0 ~ @a[m=2,RRte=0,team=RRg,r=1,c=1] RRte = 3
///	@a[$SA$,m=2,RRte>=1] stone 2 ~ 2 ~ @a[m=2,RRte=0,r=1,c=1] RRtp + 1
///	@a[$SA$,m=2,RRte>=1] stone 2 ~ 3 ~ @a[m=2,RRte=0,r=1,c=1] RRtp + 2
///	@a[$SA$,m=2,RRte>=1] stone 2 ~ 4 ~ @a[m=2,RRte=0,r=1,c=1] RRtp + 4
///	@a[$SA$,m=2,RRte>=1] stone 2 ~ 5 ~ @a[m=2,RRte=0,r=1,c=1] RRtp + 8
	
///	Teleporting
	@a[$SA$,m=2,RRte>=1] wool 2 ~ 2 ~ $s$tp @a[$SA$,m=2,RRte>=1] $TeleportTo2$
	LOOP 5 11 + 1
		@a[$SA$,m=2,RRte>=1] wool |0| ~ 2 ~ $s$tp @a[$SA$,m=2,RRte>=1] $TeleportTo|0|$
	END
	
///	Resistance removal
	@a[m=2,RRpi>=0,RRre>=1] RRre - 1
	
///	Easter Egg
	ScOP @e[type=ArmorStand,RREasterEgg,RRee>=1] RRec += @e[type=ArmorStand,RREasterEgg,RRee>=1] RRee
	@e[type=ArmorStand,RREasterEgg,RRee>=1] tellraw @a $TextStart${"text":"A secret button has been found!\\n","color":"gray"},{"score":{"name":"@e[type=ArmorStand,RREasterEgg,RRee>=1]","objective":"RRec"},"color":"yellow"},{"text":"/","color":"gray"},{"text":"5","color":"yellow"},{"text":" have been found in total!","color":"gray"}]}
	@e[type=ArmorStand,RREasterEgg,RRee>=1,RRec=5] setblock -23 20 438 stone_button 1
	@e[type=ArmorStand,RREasterEgg,RRee>=1,RRec=5] tellraw @a $TextStart${"text":"The easter egg has been unlocked!","color":"yellow"}]}
	@e[type=ArmorStand,RREasterEgg,RRee>=1] RRee = 0
	
///	Sand Generator
	@e[type=ArmorStand,RRSandGenerator,RRsg>=0<=79] RRsg + 1
	@e[type=ArmorStand,RRSandGenerator,RRsg=80] fill $SandLine$ sand 0
	@e[type=ArmorStand,RRSandGenerator,RRsg=80] RRsg = 0
END
//>

//<General End Clock
FUNC Func_GeneralEndClock
//* XP bar *//
	@a[$SA$,m=2,RRci>=1<=2] ScOP @a[m=2,RRci>=1<=2,c=1,r=1] RRxp = @e[type=ArmorStand,RRPoint,RRcpt>=1<=1999] RRcpt
	@a[$SA$,m=2,RRci>=1<=2] ScOP @a[m=2,RRci>=1<=2,c=1,r=1] RRxp = @e[type=ArmorStand,RRPoint2,RRcpt=2000] RRcpt
	
///	@a[$SA$,m=2,RRci=3,RRxp<=-1] RRxp = 0
	ScOP @a[$SA$,m=2,RRxp>=0] RRxp *= 100 Number
	ScOP @a[$SA$,m=2,RRci>=1<=2] RRxp /= 2000 Number
	ScOP @a[$SA$,m=2,RRci=3,RRxp>=0,RRpp=-1] RRxp /= $EngiePickupDeath$ Number
	ScOP @a[$SA$,m=2,RRci=3,RRxp>=0,RRpp>=0] RRxp /= $EngiePickupDelay$ Number
	ScOP @a[$SA$,m=2,RRci=0,RRxp>=0,RRrs>=0] RRxp /= $StealthRestockDelay$ Number
	ScOP @a[$SA$,m=2,RRci=0,RRxp>=0,RRrs=-1] RRxp /= $StealthCloakMax$ Number
	
	$s$xp 1129L @a[$SA$,m=2,RRxp>=0]
	$s$xp 11 @a[$SA$,m=2,RRxp>=0]
	LOOP 64 1 / 2 () 6336 99 / 2
		$s$xp |2| @a[$SA$,m=2,RRxp>=|0|]
		@a[$SA$,m=2,RRxp>=|0|] RRxp - |0|
	END
	$s$xp -1129L @a[$SA$,m=2,RRxp>=0]
	
	@a[$SA$,m=2,RRxp>=0] RRxp = 0

//* Class Change tags applied on death *//
	ScTG @a[m=2,RRde>=1,RRci=0] add RRTarget0
	ScTG @a[m=2,RRde>=1,RRci=1] add RRTarget1
	ScTG @a[m=2,RRde>=1,RRci=2] add RRTarget2
	ScTG @a[m=2,RRde>=1,RRci=3] add RRTarget3
	
//* Teleportation effects *//
	@a[$SA$,m=2,RRte>=1] playsound minecraft:entity.endermen.teleport voice @a[c=1]
	@a[$SA$,m=2,RRte=1] particle happyVillager ~0.1 ~1 ~0.1 0.3 0.5 0.3 1 20 force
	@a[$SA$,m=2,RRte=2] particle magicCrit ~ ~1 ~ 0.3 0.7 0.3 0 30 force
	@a[$SA$,m=2,RRte=3,team=RRg] particle happyVillager ~0.1 ~1 ~0.1 0.3 0.5 0.3 1 20 force
	@a[$SA$,m=2,RRte=3,team=RRb] particle magicCrit ~ ~1 ~ 0.3 0.7 0.3 0 30 force
	@a[m=2,RRte>=1] RRte = 0
	
//* All weakness effects applied here *//
	effect @a[$SA$,m=2,RRWeakness] 18 3 10 true
	effect @a[$SA$,m=2,!RRWeakness] 18 0 0 true
	RevST(RRWeakness)
	
	@a[RRki>=1] RRki = 0
	@a[RRde>=1] RRde = 0
	@a[RRcs>=1] RRcs = 0
	@a[RRhi>=1] RRhi = 0
END
//>

//<General Scoreboard End
FUNC Func_GeneralScoreboardEnd
	USE $ObjR$
		RR
		RRci
		RRpi
		RRcs
		RRde
		RRki
		RRaf
		RRcp
		RRhi
		RRed
		RRre
		RRtp
		RRte
		RRee
		RRec
		RRsg
		RRxp
		RRcn
		RRdt
		RRjd
	UNUSE
	$s$kill @e[type=ArmorStand,tag=RRPoint]
	$s$kill @e[$SA$,type=Arrow]
	$s$kill @e[$SA$,type=PrimedTnt]
	scoreboard objectives setdisplay list Health
	
	gamerule keepInventory false
	gamerule naturalRegeneration true
	gamerule doTileDrops false
	gamerule doDaylightCycle true
	$s$weather clear 1000000
	
///	Book for EC (RRBook)
	setblock -128 1 400 air 0
	
///	Easter Egg
	LOOP 1 5 + 1
		setblock $EasterEgg|0|$ air 0
	END
///	Button for the easter egg
	setblock -23 20 438 air 0
///	Sand wall
	fill $SandWall$ sand 0
	
///	Structure blocks
	setblock -64 22 411 redstone_block 0
	setblock -51 20 420 redstone_block 0
END
//>


//<Countdown Start
FUNC Func_CountdownStart
	ScOP @e[type=ArmorStand,RRCountdown] RRti2 = Countdown RRed
	@e[type=ArmorStand,RRCountdown] RRti + 0
	ScOP Countdown RR = Countdown RRed
///	Iron bars at blue mansion
	fill -32 33 320 -52 28 320 air 0
///	Iron bars at blue spawn
	fill -132 29 318 -132 27 342 air 0 replace iron_bars 0
	title @a title {"text":"Blue doors are open!","color":"blue"}
	title @a subtitle {"text":"","color":"yellow","extra":[{"text":"Starting in "},{"score":{name:"Countdown",objective:"RRed"},"bold":"true"},{"text":" seconds!"}]}
	Activate(CBPCountdownClock)
END
//>

//<Countdown Clock
FUNC Func_CountdownClock
///	RRti = mt
///	RRti2 = seconds
	@e[type=ArmorStand,RRCountdown,RRti>=0<=19,RRti2>=1] RRti + 1
	@e[type=ArmorStand,RRCountdown,RRti=20,RRti2>=1] RRti2 - 1
	ScOP Countdown RR = @e[type=ArmorStand,RRCountdown,RRti=20] RRti2
	@e[type=ArmorStand,RRCountdown,RRti=20,RRti2>=0] RRti = 0
	
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=60] tellraw @a $TextStart${"text":"1 minute left!","color":"yellow"}]}
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=30] tellraw @a $TextStart${"text":"30 seconds left!","color":"yellow"}]}
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=15] tellraw @a $TextStart${"text":"15 seconds left!","color":"yellow"}]}
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=10] tellraw @a $TextStart${"text":"10 seconds left!","color":"yellow"}]}
	
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2>=1<=5] tellraw @a $TextStart${"score":{"name":"@e[type=ArmorStand,RRCountdown,c=1,r=1]","objective":"RRti2"},"color":"yellow"},{"text":"!","color":"yellow"}]}
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2>=1<=5] @a playsound minecraft:block.note.pling voice @a[c=1] ~ ~ ~ 1
	
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=5] setblock -47 23 425 air 0
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=5] playsound minecraft:entity.tnt.primed voice @a -47 23 425
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=5] summon PrimedTnt -47 23 425 {Fuse:10000s,Tags:["RRTnt"]}
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=5] setblock -57 26 410 air 0
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=5] playsound minecraft:entity.tnt.primed voice @a -57 26 410
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=5] summon PrimedTnt -57 26 410 {Fuse:10000s,Tags:["RRTnt"]}
	
///	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=4] tellraw @a $TextStart${"text":"4!","color":"yellow"}]}
///	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=3] tellraw @a $TextStart${"text":"3!","color":"yellow"}]}
///	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=2] tellraw @a $TextStart${"text":"2!","color":"yellow"}]}
///	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=1] tellraw @a $TextStart${"text":"1!","color":"yellow"}]}
	
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] title @a title {"text":"Begin!","color":"green"}
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] tellraw @a $TextStart${"text":"Begin!","color":"green","bold":true}]}
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] @a playsound minecraft:entity.wither.death voice @a[c=1]
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] entitydata @e[type=PrimedTnt,RRTnt] {Fuse:0s}
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] ScOP @e[type=ArmorStand,RRTimer] RRti2 = InitialTime RRed
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] setblock $CPBlock1$ air 0
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] ScRE Countdown RR
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] ScOP Seconds RRti2 = @e[type=ArmorStand,RRTimer1] RRti2
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] ScOP Minutes RRti2 = @e[type=ArmorStand,RRTimer1] RRti2
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] ScOP Seconds RRti2 %= 60 Number
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] ScOP Minutes RRti2 /= 60 Number
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] ScOP Seconds RR = Seconds RRti2
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] ScOP Minutes RR = Minutes RRti2
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] gamerule doDaylightCycle true
	CONDITION
		Deactivate(CBPCountdownClock)
	@e[type=ArmorStand,RRCountdown,RRti=0,RRti2=0] RRti2 = -1
END
//>


//<Control Point Start
FUNC Func_ControlPointStart
	USE $ObjA$
		RRcpt dummy RR CP Timer
		RRcpo dummy RR CP Toggle
		RRcpa dummy RR CP Announce
		RRcpc dummy RR CP Calc (Flash)
		RRcpc2 dummy RR CP Calc (Teams)
		RRcpc3 dummy RR CP Calc (Display)
		RRcptd dummy RR CP Team Display
		RRti dummy RR Timer
		RRti2 dummy RR Timer Extra
		RRcpot dummy RR CP Overtime
		RRcpotc dummy RR CP Overtime Calc
	UNUSE
	
///Teams are mostly used for dispenser pigs and to show the flashing green
	scoreboard teams add RRd_g RR Display Green
	scoreboard teams add RRd_b RR Display Blue
	scoreboard teams add RRd_dg RR Display Dark Green
	scoreboard teams add RRd_da RR Display Dark Aqua
	scoreboard teams add RRd_a RR Display Aqua
	scoreboard teams add RRd_y RR Display Yellow
	
	scoreboard teams option RRd_g color green
	scoreboard teams option RRd_b color blue
	scoreboard teams option RRd_dg color dark_green
	scoreboard teams option RRd_da color dark_aqua
	scoreboard teams option RRd_a color aqua
	scoreboard teams option RRd_y color yellow
	
	scoreboard teams option RRd_g collisionRule never
	scoreboard teams option RRd_b collisionRule never
	
	LOOP 1 4 + 1
		summon AreaEffectCloud $Firework1AS|0|$ {Duration:1000000,Tags:["RRFirework1","RRFirework"]}
	END
	LOOP 1 4 + 1
		summon AreaEffectCloud $Firework2AS|0|$ {Duration:1000000,Tags:["RRFirework2","RRFirework"]}
	END
	
	summon ArmorStand ~ ~ ~ {Invulnerable:1,NoGravity:1,Invisible:1,Marker:1b,Tags:["RRCustom","RRCountdown","RREasterEgg","RRSandGenerator"]}
	
	summon ArmorStand ~ ~ ~ {Invulnerable:1,NoGravity:1,Invisible:1,Marker:1b,Tags:["RRCustom","RRPoint1","RRTimer1","RRPoint","RRTimer"],CustomName:"point 1"}
	summon ArmorStand ~ ~ ~ {Invulnerable:1,NoGravity:1,Invisible:1,Marker:1b,Tags:["RRCustom","RRPoint2","RRTimer2","RRPoint","RRTimer"],CustomName:"point 2"}
	
	@e[type=ArmorStand,RRPoint] RRcpt + 0
	@e[type=ArmorStand,RRPoint] RRcpot + 0
	@e[type=ArmorStand,RRPoint] RRti + 0
	@e[type=ArmorStand,RRPoint1] RRcpc + 0
	@e[type=ArmorStand,RREasterEgg] RRec + 0
	
	ScTJ RRd_y Countdown Minutes Seconds
	ScTJ RRd_g Green
	ScTJ RRd_b Blue Point1% Point2%
END
//>

//<Control Point Comments
FUNC Func_UselessCommentsAgain
	Toggle: Set to 1 if activated by redstone block, set to 0 if not. Toggles for 2 points.
	Timer: To countdown the timer obviously. Would probably need a calc objective
	Will be 2000 ticks, equaling to 100s out of 30 mins (1800s)
	
	
	0 to 50% + not during capture: blue
	0 - 50% = 0 - 1000 ticks
	
	51 to 80% + not during capture: dark_aqua
	51 - 80% = 1001 - 1600
	
	81% to 99% + not during capture: aqua
	81% - 99% = 1601 - 1999
	
	100% will be at dark green to show that it's been fully captured
	
	During capture: flashes between what it was at and green


	Display:
	Point1%
	Point2%
	Green
	Blue
	Minutes
	Seconds
	Countdown
	
	RRcptd is going to be numeric values for teams
		1	blue	RRd_b
		2	daqua	RRd_da
		3	aqua	RRd_a
		4	green	RRd_g
		5	dgreen	RRd_dg
	RRcpc2 is going to be used to indicate when the team should be set on display or not. When there is a change in score, set display, and then set back to 0
END
//>

//<Control Point Clock
FUNC Func_ControlPointClock
//* Timer *//
///	RRti is mt
///	RRti2 is total seconds
	@e[type=ArmorStand,RRTimer,RRti>=0<=19,RRti2>=1,RRcpot=0] RRti + 1
	@e[type=ArmorStand,RRTimer,RRti=20,RRti2>=1] RRti2 - 1
	@e[type=ArmorStand,RRTimer,RRti=20,RRti2>=0] RRti = 0
	
///	Displays time via tellraw
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=600] tellraw @a $TextStart${"text":"10 minutes left!","color":"yellow"}]}
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=300] tellraw @a $TextStart${"text":"5 minutes left!","color":"yellow"}]}
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=120] tellraw @a $TextStart${"text":"2 minutes left!","color":"yellow"}]}
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=60] tellraw @a $TextStart${"text":"1 minute left!","color":"yellow"}]}
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=30] tellraw @a $TextStart${"text":"30 seconds left!","color":"yellow"}]}
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=15] tellraw @a $TextStart${"text":"15 seconds left!","color":"yellow"}]}
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=10] tellraw @a $TextStart${"text":"10 seconds left!","color":"yellow"}]}
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2>=1<=5] tellraw @a tellraw @a $TextStart${"score":{"name":"@e[type=ArmorStand,RRTimer1,c=1,r=1]","objective":"RRti2"},"color":"yellow"},{"text":"!","color":"yellow"}]}
///	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=5] tellraw @a $TextStart${"text":"5!","color":"yellow"}]}
///	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=4] tellraw @a $TextStart${"text":"4!","color":"yellow"}]}
///	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=3] tellraw @a $TextStart${"text":"3!","color":"yellow"}]}
///	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=2] tellraw @a $TextStart${"text":"2!","color":"yellow"}]}
///	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=1] tellraw @a $TextStart${"text":"1!","color":"yellow"}]}
	
///	Overtime calculations
	@e[type=ArmorStand,RRTimer,RRti=0,RRti2=0,RRcpo=1] @e[type=ArmorStand,RRTimer] RRcpot = 1
	@e[type=ArmorStand,RRTimer1,RRcpot=1] title @a title {"text":"Overtime!","color":"yellow"}
	@e[type=ArmorStand,RRTimer1,RRcpot=1] tellraw @a $TextStart${"text":"Overtime!","color":"yellow"}]}
	@e[type=ArmorStand,RRTimer1,RRcpot=1] Seconds RR = 0
	@e[type=ArmorStand,RRTimer,RRcpot=1] RRti = -1
	@e[type=ArmorStand,RRTimer,RRcpot=1] RRcpot = 2
	@e[type=ArmorStand,RRPoint] RRcpotc = 0
	@e[type=ArmorStand,RRTimer,RRcpot=2,RRcpo=1] @e[type=ArmorStand,RRPoint] RRcpotc + 1
	@e[type=ArmorStand,RRPoint1,RRcpot=2,RRcpotc=0,RRti>=-1] ScTJ RRd_y Seconds Minutes
	@e[type=ArmorStand,RRPoint,RRcpot=2,RRcpotc=0,RRti>=-1] RRti = 20
	@e[type=ArmorStand,RRPoint,RRcpot=2,RRcpotc=0,RRti>=-1] RRti2 = 6
	@e[type=ArmorStand,RRPoint,RRcpot=2,RRcpotc=0,RRti>=-1] RRcpot = 0
	
///	Display time on sidebar
	ScOP Seconds RRti2 = @e[type=ArmorStand,RRTimer1,RRti=0] RRti2
	ScOP Minutes RRti2 = @e[type=ArmorStand,RRTimer1,RRti=0] RRti2
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2>=0] ScOP Seconds RRti2 %= 60 Number
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2>=0] ScOP Minutes RRti2 /= 60 Number
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2>=0] ScOP Seconds RR = Seconds RRti2
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2>=0] ScOP Minutes RR = Minutes RRti2
	
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=0] tellraw @a $TextStart${"text":"The time ran out, meaning ","color":"gray"},{"text":"Blue","color":"blue"},{"text":" won!","color":"gray"}]}
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=0] title @a title {"text":"Blue won!","color":"blue"}
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=0] setblock $CPBlock1$ glass 0
	@e[type=ArmorStand,RRTimer1,RRti=0,RRti2=0] setblock $CPBlock2$ glass 0
	
	@e[type=ArmorStand,RRTimer,RRti=0,RRti2=0] RRcpot = 0
	@e[type=ArmorStand,RRTimer,RRti=0,RRti2=0] RRti = -2

	
//* Control Point *//	
///	Adding to RRcpt, calculating flash numbers
	@e[type=ArmorStand,RRPoint,RRcpt>=0<=1999,RRcpo=1,RRti>=0] RRcpt + 1
	@e[type=ArmorStand,RRPoint,RRcpt>=0<=1999,RRcpo=1,RRti=-1,RRcpot=2] RRcpt + 1
	@e[type=ArmorStand,RRPoint,RRcpt>=0<=1999,RRcpo=1,RRcpc>=0] ScOP @e[RRPoint,RRcpt>=0<=2000,RRcpo=1,c=1,r=1] RRcpc = @e[RRPoint,RRcpt>=0<=2000,RRcpo=1,c=1,r=1] RRcpt
	@e[type=ArmorStand,RRPoint,RRcpt>=0<=1999,RRcpo=1,RRcpc>=0] ScOP @e[RRPoint,RRcpt>=0<=2000,RRcpo=1,c=1,r=1] RRcpc %= 6 Number
	
///	RRcpa for announcing
	@e[type=ArmorStand,RRPoint,RRcpt>=0<=1999,RRcpa=1,RRti>=0] @a playsound minecraft:entity.experience_orb.touch voice @a[c=1] ~ ~ ~ 2
	@e[type=ArmorStand,RRPoint1,RRcpt>=0<=1999,RRcpo=1,RRcpa=1,RRti>=0] tellraw @a $TextStart${"text":"Green","color":"green"},{"text":" has started capturing ","color":"gray"},{"text":"Capture Point 1","color":"green"},{"text":".","color":"gray"}]}
	@e[type=ArmorStand,RRPoint1,RRcpt>=0<=1999,RRcpo=0,RRcpa=1,RRti>=0] tellraw @a $TextStart${"text":"Blue","color":"blue"},{"text":" has stopped ","color":"gray"},{"text":"Capture Point 1","color":"blue"},{"text":".","color":"gray"}]}
	@e[type=ArmorStand,RRPoint2,RRcpt>=0<=1999,RRcpo=1,RRcpa=1,RRti>=0] tellraw @a $TextStart${"text":"Green","color":"green"},{"text":" has started capturing ","color":"gray"},{"text":"Capture Point 2","color":"green"},{"text":".","color":"gray"}]}
	@e[type=ArmorStand,RRPoint2,RRcpt>=0<=1999,RRcpo=0,RRcpa=1,RRti>=0] tellraw @a $TextStart${"text":"Blue","color":"blue"},{"text":" has stopped ","color":"gray"},{"text":"Capture Point 2","color":"blue"},{"text":".","color":"gray"}]}
	@e[type=ArmorStand,RRPoint,RRcpa=1] RRcpa = 0
	
///	Display % on sidebar
	@e[type=ArmorStand,RRPoint,RRcpt>=0<=2000,RRcpo=1] ScOP @e[RRPoint,RRcpt>=0<=2000,RRcpo=1,c=1,r=1] RRcpc3 = @e[RRPoint,RRcpt>=0<=2000,RRcpo=1,c=1,r=1] RRcpt
	ScOP @e[type=ArmorStand,RRPoint,RRcpt>=0<=2000,RRcpo=1] RRcpc3 /= 20 Number
	ScOP Point1% RR = @e[type=ArmorStand,RRPoint1,RRcpt>=0<=2000,RRcpo=1] RRcpc3
	ScOP Point2% RR = @e[type=ArmorStand,RRPoint2,RRcpt>=0<=2000,RRcpo=1] RRcpc3
	
///	Display during overtime
	@e[type=ArmorStand,RRPoint,RRcpot=2,RRcpc=0] ScTL RRd_y Seconds Minutes
	@e[type=ArmorStand,RRPoint,RRcpot=2,RRcpc=3] ScTJ RRd_y Seconds Minutes
	
	
///	RRcpc is set at 3 to show the blue for longer
///	Sets team display score	
	@e[type=ArmorStand,RRPoint] ScOP @e[type=ArmorStand,RRPoint,c=1,r=1] RRcpc2 = @e[type=ArmorStand,RRPoint,c=1,r=1] RRcptd

	@e[type=ArmorStand,RRPoint,RRcpt>=0<=1999,RRcpo=1,RRcpc>=0<=2] RRcptd = 4
	@e[type=ArmorStand,RRPoint,RRcpt>=1<=1000,RRcpo=1,RRcpc>=3<=5] RRcptd = 1
	@e[type=ArmorStand,RRPoint,RRcpt>=1001<=1600,RRcpo=1,RRcpc>=3<=5] RRcptd = 2
	@e[type=ArmorStand,RRPoint,RRcpt>=1601<=1999,RRcpo=1,RRcpc>=3<=5] RRcptd = 3
	
	@e[type=ArmorStand,RRPoint,RRcpt>=0<=1000,RRcpo=0] RRcptd = 1
	@e[type=ArmorStand,RRPoint,RRcpt>=1001<=1600,RRcpo=0] RRcptd = 2
	@e[type=ArmorStand,RRPoint,RRcpt>=1601<=1999,RRcpo=0] RRcptd = 3
	@e[type=ArmorStand,RRPoint,RRcpt=2000] RRcptd = 5
	
	@e[type=ArmorStand,RRPoint] ScOP @e[type=ArmorStand,RRPoint,c=1,r=1] RRcpc2 -= @e[type=ArmorStand,RRPoint,c=1,r=1] RRcptd
	
///	Team joining for point 1
///	Sets what happens when point 1 is captured
	@e[type=ArmorStand,RRPoint,RRcpc2<=-1] RRcpc2 = 1
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=1] ScTJ RRd_b Point1%
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=2] ScTJ RRd_da Point1%
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=3] ScTJ RRd_a Point1%
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=4] ScTJ RRd_g Point1%
	///	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5]
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] ScTJ RRd_dg Point1%
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] title @a title {"text":"The first point","color":"green"}
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] title @a subtitle {"text":"has been captured!","color":"green"}
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] tellraw @a $TextStart${"text":"The ","color":"gray"},{"text":"first Capture Point","color":"green"},{"text":" has been captured by ","color":"gray"},{"text":"Green!","color":"green"},{"text":"\\n10 minutes have been added!","color":"yellow"}]}
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] ScOP @e[type=ArmorStand,RRTimer] RRti2 += AddedTime RRed
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] setblock $CPBlock1$ glass 0
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] setblock $CPBlock2$ air 0
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] fill -88 24 315 -88 18 345 obsidian 0
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] fill -40 28 339 -44 25 335 emerald_block 0 replace lapis_block 0
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] fill -32 33 320 -52 28 320 iron_bars 0
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] fill -73 28 313 -73 29 313 iron_bars 0
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] @e[type=ArmorStand,RRTimer] RRti = 0
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] @e[type=ArmorStand,RRTimer] RRcpot = 0
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] @e[type=ArmorStand,RRPoint2] RRcpc + 0
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] ScTJ RRd_y Seconds Minutes
	@e[type=ArmorStand,RRPoint1,RRcpc2>=1,RRcptd=5] @e[type=AreaEffectCloud,RRFirework1] summon $Firework$
	
///	Team joining for point 2
///	Sets what happens when point 2 is captured
	@e[type=ArmorStand,RRPoint2,RRcpc2>=1,RRcptd=1] ScTJ RRd_b Point2%
	@e[type=ArmorStand,RRPoint2,RRcpc2>=1,RRcptd=2] ScTJ RRd_da Point2%
	@e[type=ArmorStand,RRPoint2,RRcpc2>=1,RRcptd=3] ScTJ RRd_a Point2%
	@e[type=ArmorStand,RRPoint2,RRcpc2>=1,RRcptd=4] ScTJ RRd_g Point2%
	///	@e[type=ArmorStand,RRPoint2,RRcpc2>=1,RRcptd=5]
	@e[type=ArmorStand,RRPoint2,RRcpc2>=1,RRcptd=5] ScTJ RRd_dg Point2%
	@e[type=ArmorStand,RRPoint2,RRcpc2>=1,RRcptd=5] setblock $CPBlock2$ glass 0
	@e[type=ArmorStand,RRPoint2,RRcpc2>=1,RRcptd=5] fill -115 19 328 -119 22 332 emerald_block 0 replace lapis_block 0
	@e[type=ArmorStand,RRPoint2,RRcpc2>=1,RRcptd=5] title @a title {"text":"Green won!","color":"green"}
	@e[type=ArmorStand,RRPoint2,RRcpc2>=1,RRcptd=5] tellraw @a $TextStart${"text":"Green captured the second point and won!","color":"green"}]}
	@e[type=ArmorStand,RRPoint2,RRcpc2>=1,RRcptd=5] @e[type=ArmorStand,RRPoint] RRti = -2
	@e[type=ArmorStand,RRPoint2,RRcpc2>=1,RRcptd=5] @e[type=AreaEffectCloud,RRFirework2] summon $Firework$
	
	ScRE @e[type=ArmorStand,RRPoint,RRcpc2>=1,RRcptd=5] RRcpc
END
//>

//<Control Point End
FUNC Func_ControlPointEnd
	USE $ObjR$
		RRcpt
		RRcpo
		RRcpa
		RRcpc
		RRcpc2
		RRcpc3
		RRcptd
		RRti
		RRti2
		RRcpot
		RRcpotc
	UNUSE
	scoreboard teams remove RRd_g
	scoreboard teams remove RRd_b
	scoreboard teams remove RRd_dg
	scoreboard teams remove RRd_da
	scoreboard teams remove RRd_a
	scoreboard teams remove RRd_y
	$s$kill @e[type=ArmorStand,RRPoint]
	$s$kill @e[type=ArmorStand,RRCountdown]
	$s$kill @e[type=AreaEffectCloud,RRFirework]
	
	setblock $CPBlock1$ glass 0
	setblock $CPBlock2$ glass 0
	fill -88 24 315 -88 18 345 bedrock 0
	fill -40 28 339 -44 25 335 lapis_block 0 replace emerald_block 0
	fill -115 19 328 -119 22 332 lapis_block 0 replace emerald_block 0
///	Open entrance to blue mansion
	fill -73 29 313 -73 28 313 air 0
///	Open iron bars at blue mansion
	fill -32 33 320 -52 28 320 air 0
	
///	Iron bars at blue spawn
	fill -132 29 318 -132 27 322 iron_bars 0
	fill -132 29 328 -132 27 332 iron_bars 0
	fill -132 29 338 -132 27 342 iron_bars 0
	fill -133 27 344 -133 29 344 iron_bars 0
	fill -133 27 316 -133 29 316 iron_bars 0
END
//>


//<Teleporter Start
FUNC Func_TeleporterStart
	USE $ObjA$
		RRtpi dummy RR Teleport ID
		RRtpi2 dummy RR Teleport ID 2
		RRtpo dummy RR Teleport Toggle
		RRpat dummy RR Particle Type
		RRpa dummy RR Particles
	UNUSE

///	Particles & Teleporter
	LOOP 1 10 + 1
		summon AreaEffectCloud $TPTele|0|$ {Duration:1000000,Tags:["RRTeleporter","RRTeleport","RRTeleport|0|"],CustomName:"Teleporter |0|"}
		summon AreaEffectCloud $TPPart|0|$ {Duration:1000000,Tags:["RRTeleporter","RRParticle","RRTeleport|0|"],CustomName:"Teleporter |0|"}
	END
	
	LOOP 1 10 + 1
		@e[type=AreaEffectCloud,RRTeleport|0|] RRtpi = |0|
	END
	@e[type=AreaEffectCloud,RRTeleporter] RRtpo + 0
	@e[type=AreaEffectCloud,RRTeleporter] RRpa + 0
	@e[type=AreaEffectCloud,RRTeleporter] RRpat = 0
	ScTJ RRd_b @e[type=AreaEffectCloud,RRParticle,RRtpo=3,RRtpi>=9<=10]
END
//>

//<Teleporter Clock
FUNC Func_TeleporterClock
///	Activated by tag "RRTPOn" done to the RRParticle armor stand. Open defined with "RRTPOpen".
///	Once activated, does playsound, tellraw, join team to blue, setblock glass
///	Avaliable Tags: RRTeleport#, RRParticle, RRTPOn, RRTPOpen, RRTeleporter, RRTeleport
///	Deactivated by RRTPOff

///	RRtpo 1: Initial enable
///	RRtpo 2: Final enable
///	RRtpo 3: Initial disable
///	RRtpo 0: Final disable

//* Activation *//
	@e[type=AreaEffectCloud,RRParticle,RRtpo=1] playsound minecraft:block.lava.extinguish voice @a[team=RRg] ~ ~ ~ 2 0.5
	testfor @e[type=AreaEffectCloud,RRtpo=1]
	CONDITION
		tellraw @a $TextStart${"selector":"@e[type=AreaEffectCloud,RRParticle,RRtpo=1]"},{"text":" has been enabled!","color":"gray"}]}
	ScTJ RRd_g @e[type=AreaEffectCloud,RRParticle,RRtpo=1,RRtpi>=1<=8]
	LOOP 1 8 + 1
		@e[type=AreaEffectCloud,RRParticle,RRtpo=1,RRtpi=|0|] setblock $TPGlass|0|$ stained_glass 5
	END
	@e[type=AreaEffectCloud,RRtpo=1] RRtpo = 2
	
//* Teleports *//
	@e[type=AreaEffectCloud,RRTeleport,RRtpo=2,RRtpi>=1<=8] @a[m=2,r=1,team=RRg] RRte = 1
	@e[type=AreaEffectCloud,RRTeleport,RRtpo=2,RRtpi>=1<=8] effect @a[m=2,r=1,team=RRg] 11 1 4 true
	@e[type=AreaEffectCloud,RRTeleport,RRtpo=2,RRtpi>=1<=8] @a[m=2,r=1,team=RRg] RRre = 20
	
	@e[type=AreaEffectCloud,RRTeleport,RRtpo=2,RRtpi>=9<=10] @a[m=2,r=1,team=RRb] RRte = 2
	@e[type=AreaEffectCloud,RRTeleport,RRtpo=2,RRtpi>=9<=10] effect @a[m=2,r=1,team=RRb] 11 2 4 true
	@e[type=AreaEffectCloud,RRTeleport,RRtpo=2,RRtpi>=9<=10] @a[m=2,r=1,team=RRb] RRre = 40
	LOOP 1 8 + 1
		@e[type=AreaEffectCloud,RRTeleport,RRtpo=2,RRtpi=|0|] $s$tp @a[m=2,r=1,team=RRg] $TPPos|0|$
	END
	LOOP 9 10 + 1
		@e[type=AreaEffectCloud,RRTeleport,RRtpo=2,RRtpi=|0|] $s$tp @a[m=2,r=1,team=RRb] $TPPos|0|$
	END
	
//* Deactivation *//
	@e[type=AreaEffectCloud,RRParticle,RRtpo=3] playsound minecraft:entity.item.pickup voice @a[r=10,team=RRg] ~ ~ ~ 2 0.5
	testfor @e[type=AreaEffectCloud,RRtpo=3]
	CONDITION
		tellraw @a $TextStart${"selector":"@e[type=AreaEffectCloud,RRParticle,RRtpo=3]"},{"text":" has been disabled!","color":"gray"}]}
	ScTJ RRd_b @e[type=AreaEffectCloud,RRParticle,RRtpo=3,RRtpi>=1<=8]
	LOOP 1 8 + 1
		@e[type=AreaEffectCloud,RRParticle,RRtpo=3,RRtpi=|0|] setblock $TPGlass|0|$ stained_glass 3
	END
	@e[type=AreaEffectCloud,RRtpo=3] RRtpo = 0
END
//>

//<Teleporter End
FUNC Func_TeleporterEnd
	USE $ObjR$
		RRtpi
		RRtpi2
		RRtpo
		RRpat
		RRpa
	UNUSE
	$s$kill @e[type=AreaEffectCloud,RRTeleporter]
	LOOP 1 8 + 1
		setblock $TPGlass|0|$ stained_glass 3
		setblock $TPRdst|0|$ air 0
	END
END
//>


//<Stealth Start
FUNC Func_StealthStart
	USE $ObjA$
		RRsa dummy RR Sneak Amount
		RRst dummy RR Sneak State
		RRse dummy RR Sneak End
		RRsc dummy RR Sneak Calculations
		RRis dummy RR Inventory Slot
		RRia dummy RR Inventory Save
		RRic dummy RR Inventory Calc
		RRrs dummy RR Restock Timer
		RRpo dummy RR Thrown Potion
		RRur stat.useItem.minecraft.redstone_block RR Used Redstone
		RRup stat.useItem.minecraft.lingering_potion RR Used Lingering Potion
		RRuk stat.useItem.minecraft.golden_sword RR Used Big Earner
	UNUSE
END
//>

//<Stealth Clock: Cloaking
FUNC Func_StealthClock
//(Features)
//	-Change slot: uncloak
//	-Currently lasts 7s
//	-Currently takes 7s to recharge
//	-Remembers if the player used the redstone block, knife and potion
//	-Does not remember inventory layout
//	-Takes 1s to decloak, with a notable noise + particle effect
//		-1s does not count for increase or decrease of the cloak: it stays as is until fully uncloaked
//		-Only given items after that 1s
//	-Cannot attack while cloaked, but can be attacked
//	-XP pickup sound is played every second only to the cloaked player (no one else can hear)

///Inventory Slot
	LOOP 0 8 + 1
		@a[m=2,RRci=0] RRis = |0| {SelectedItemSlot:|0|}
	END
	
///Setting tags for holding cloak + restock
	@a[$SA$,m=2,RRci=0] RRhi = 1 {Inventory:[{Slot:-106b,id:"minecraft:carrot_on_a_stick",Count:1b,tag:{display:{Name:"Cloaking Device"}}}]}
	@a[$SA$,m=2,RRci=0] RRhi = 2 {Inventory:[{Slot:-106b,id:"minecraft:carrot_on_a_stick",Count:1b,tag:{display:{Name:"Restocks Ammo"}}}]}
	@a[$SA$,m=2,RRci=0] RRhi = 1 {SelectedItem:{id:"minecraft:carrot_on_a_stick",Count:1b,tag:{display:{Name:"Cloaking Device"}}}}
	@a[$SA$,m=2,RRci=0] RRhi = 2 {SelectedItem:{id:"minecraft:carrot_on_a_stick",Count:1b,tag:{display:{Name:"Restocks Ammo"}}}}
	
///Inventory save if holding cloak
//(Maybe make it save with RRcs>=1)
	@a[$SA$,m=2,RRci=0,RRhi=1] RRia = RRis
	
///Startup timer, only sets state to 1 if holding CoS, state = 0, class = stealth, and used CoS
///Also including playsound
	@a[$SA$,m=2,RRci=0,RRhi=1,RRcs>=1,RRst=0] particle explode ~ ~1 ~ 0.3 0.6 0.3 0 30 force @a
	@a[$SA$,m=2,RRci=0,RRhi=1,RRcs>=1,RRst=0] playsound minecraft:entity.arrow.shoot voice @a[r=10] ~ ~ ~ 2 0.5
	@a[$SA$,m=2,RRci=0,RRhi=1,RRcs>=1,RRst=0] RRst = 1

///Decrease and increase
	@a[$SA$,m=2,RRci=0,RRst=1,RRsa>=1<=$StealthCloakMax$] RRsa - $StealthCloakRemove$
	@a[$SA$,m=2,RRci=0,RRst=0,RRsa>=0<=SUB($StealthCloakMax$;1)] RRsa + $StealthCloakRegen$
	@a[$SA$,m=2,RRci=0,RRsa>=ADD($StealthCloakMax$;1)] RRsa = $StealthCloakMax$
	@a[$SA$,m=2,RRci=0,RRsa<=-1] RRsa = 0
	
///Change (detection of changed inventory slot)
	@a[$SA$,m=2,RRci=0,RRst=1] RRic = RRia
	@a[$SA$,m=2,RRci=0,RRst=1] RRic - RRis
	@a[$SA$,m=2,RRci=0,RRst=1,RRic<=-1] RRst = 2
	@a[$SA$,m=2,RRci=0,RRst=1,RRic>=1] RRst = 2

///Change (detection of running out)
	@a[$SA$,m=2,RRci=0,RRst=1,RRsa=0] RRst = 2
	
///Ending stage, including giving items back <-- Moved to under Big Earner effect
///Starts at 0, ends at 20
	@a[$SA$,m=2,RRci=0,RRst=2,RRse>=0<=19] RRse + 1
	ScTG @a[$SA$,m=2,RRci=0,RRst=2,RRse=20] add RRStealthInvRestore
	
	@a[$SA$,m=2,RRci=0,RRst=2,RRse=20] RRst = 0
	@a[$SA$,m=2,RRci=0,RRst=0,RRse=20] RRse = 0
	
///Effects, clears
	@a[$SA$,m=2,RRci=0,RRst=2] particle smoke ~ ~1 ~ 0.3 0.5 0.3 0 10 force @a
	@a[$SA$,m=2,RRci=0,RRst=2] playsound entity.squid.death voice @a[r=10] ~ ~ ~ 0.6 0.5
	$s$clear @a[$SA$,m=2,RRci=0,RRst>=1<=2]
	effect @a[$SA$,m=2,RRci=0,RRst>=1<=2] 14 2 0 true
	effect @a[$SA$,m=2,RRci=0,RRst=0] 14 0 0 true
	
///XP Start calc
	@a[$SA$,m=2,RRci=0,RRsa>=0] ScOP @a[m=2,RRci=0,RRsa>=0,c=1,r=1] RRxp = @a[m=2,RRci=0,RRsa>=0,c=1,r=1] RRsa
//>
	
//<Stealth Clock: Potion bomb
	//Change from dropping firework charge to poison lingering potion with custom effects
	//RRup
	
	//Summon areaeffectclouds on thrown potion entity similarly to the snowball setup
	//if not killed, sets up areaeffectcloud
	
//* Adding to ThrownPotion entity *//
	@e[$SA$,type=ThrownPotion] RRpo + 0 {Potion:{id:"minecraft:lingering_potion",tag:{Potion:"minecraft:poison",CustomPotionEffects:[{Duration:0,Id:19b,Amplifier:10b}]}}}
	@a[$SA$,m=2,RRci=0,RRup=1,RRst=0,team=RRg] ScTG @e[r=5,type=ThrownPotion,RRpo=0] add RRThrownPotionG
	@a[$SA$,m=2,RRci=0,RRup=1,RRst=0,team=RRb] ScTG @e[r=5,type=ThrownPotion,RRpo=0] add RRThrownPotionB
	@a[RRup=1] RRup = 2
	@e[$SA$,type=ThrownPotion,RRpo=0] RRpo = 1
	@e[$SA$,type=ThrownPotion,RRpo=1,RRThrownPotionG] $s$kill @e[type=AreaEffectCloud,RRCloudTempG,r=2,c=1]
	@e[$SA$,type=ThrownPotion,RRpo=1,RRThrownPotionB] $s$kill @e[type=AreaEffectCloud,RRCloudTempB,r=2,c=1]
	@e[type=AreaEffectCloud,RRCloudTemp] RRpo + 0
	
//* Adding to poison cloud *//
	ScTG @e[type=AreaEffectCloud] add RRPoisonCloud {Effects:[{Ambient:0b,ShowParticles:1b,Duration:0,Id:19b,Amplifier:10b}]}
	@e[type=AreaEffectCloud,RRPoisonCloud] RRpo + 0
	
	@e[type=AreaEffectCloud,RRCloudTempG,RRpo=0] ScTG @e[type=AreaEffectCloud,RRPoisonCloud,RRpo=0,r=4,c=1] add RRPoisonCloudG
	@e[type=AreaEffectCloud,RRCloudTempB,RRpo=0] ScTG @e[type=AreaEffectCloud,RRPoisonCloud,RRpo=0,r=4,c=1] add RRPoisonCloudB
	entitydata @e[type=AreaEffectCloud,RRPoisonCloud,RRpo=0] {Radius:$StealthPoisonRadius$,RadiusPerTick:0f,Duration:200,RapplicationDelay:10000,RadiusOnUse:0f,WaitTime:0}
	@e[type=AreaEffectCloud,RRPoisonCloudG,RRpo=0] RRpo = 1
	@e[type=AreaEffectCloud,RRPoisonCloudB,RRpo=0] RRpo = 1
	$s$kill @e[type=AreaEffectCloud,RRCloudTemp,RRpo=0]
	
//* If all else fails *//
	ScTG @e[type=AreaEffectCloud,RRPoisonCloud,RRpo=0] add RRPoisonCloudG
	ScTG @e[type=AreaEffectCloud,RRPoisonCloud,RRpo=0] add RRPoisonCloudB
	@e[type=AreaEffectCloud,RRPoisonCloud,RRpo=0] RRpo = 1

//* Poison effects *//
//Cannot use poison anywhere else
//Make it poison pigs too
	@e[type=AreaEffectCloud,RRPoisonCloudG] ScTG @a[m=2,r=$StealthPoisonRadius$,team=RRb] add RRPoisoned
	@e[type=AreaEffectCloud,RRPoisonCloudG] ScTG @e[r=$StealthPoisonRadius$,type=Pig,RRPigBlue,RRns=3] add RRPoisoned
	@e[type=AreaEffectCloud,RRPoisonCloudB] ScTG @a[m=2,r=$StealthPoisonRadius$,team=RRg] add RRPoisoned
	@e[type=AreaEffectCloud,RRPoisonCloudB] ScTG @e[r=$StealthPoisonRadius$,type=Pig,RRPigGreen,RRns=3] add RRPoisoned
	effect @a[$SA$,m=2,RRPoisoned] 19 1 10 true
	effect @e[type=Pig,RRPoisoned,RRns=3] 19 1 10 true
	effect @a[$SA$,m=2,!RRPoisoned] 19 0 10 true
	effect @e[type=Pig,!RRPoisoned,RRns=3] 19 0 10 true
	ScTG @e[type=Pig,RRPoisoned] remove RRPoisoned
	RevST(RRPoisoned)
	@e[type=AreaEffectCloud,RRPoisonCloudG] particle mobSpell ~ ~ ~ 0.3 1 0.3 1 0 force
	@e[type=AreaEffectCloud,RRPoisonCloudB] particle mobSpell ~ ~ ~ 0.3 0.3 1 1 0 force
	

//* Summoning clouds on ThrownPotion entity *//
	@e[$SA$,type=ThrownPotion,RRpo=1,RRThrownPotionB] summon AreaEffectCloud ~ ~ ~ {Duration:3,Tags:["RRCloudTemp","RRCloudTempB"]}
	@e[$SA$,type=ThrownPotion,RRpo=1,RRThrownPotionG] summon AreaEffectCloud ~ ~ ~ {Duration:3,Tags:["RRCloudTemp","RRCloudTempG"]}
//>

//<Stealth Clock: Jump boost
//* Jump boost *//
	ScTG @a[$SA$,m=2,RRci=0] add RRJumpBoost {SelectedItem:{id:"minecraft:dye",Count:1b,Damage:10s,tag:{display:{Name:"Jump Boost"}}}}
	ScTG @a[$SA$,m=2,RRci=0] add RRJumpBoost {Inventory:[{Slot:-106b,id:"minecraft:dye",Count:1b,Damage:10s,tag:{display:{Name:"Jump Boost"}}}]}
	effect @a[$SA$,RRci=0,m=2,!RRJumpBoost] 8 0 0 true
	effect @a[$SA$,RRci=0,m=2,RRJumpBoost] 8 1 2 true
	RevST(RRJumpBoost)
//>

//<Stealth Clock: Big Earner
//* Big Earner Effect *//
//When holding the sword: no weakness
	ScTG @a[RRci=0,RRuk=0] add RRHoldingBigEarner {SelectedItem:{id:"minecraft:golden_sword",tag:{display:{Name:"Big Earner"}}}}
	ScTG @a[RRci=0,RRuk=0,!RRHoldingBigEarner] add RRWeakness
	RevST(RRHoldingBigEarner)

//Detects when: engineer is within a 5 block radius and died, and the stealth person has killcount of 1 + usedsword of 1
	@a[RRci=3,RRde=1] ScTG @a[RRci=0,r=5,RRki=1,RRuk=1,c=1] add RRBigEarnerBuff
	@a[$SA$,RRci=0,RRBigEarnerBuff] RRsa + $StealthKnifeCloak$
	@a[$SA$,RRci=0,RRBigEarnerBuff,RRsa>=$StealthCloakMax$] RRsa = $StealthCloakMax$
	effect @a[$SA$,RRci=0,RRBigEarnerBuff] 1 $StealthKnifeSpeedDuration$ $StealthKnifeSpeedLevel$ true
	@a[RRuk=1] RRuk = 2
	@a[RRBigEarnerBuff] playsound minecraft:entity.player.levelup voice @a[RRBigEarnerBuff,c=1] ~ ~ ~ 2
	RevST(RRBigEarnerBuff)
//>

//<Stealth Clock: Restocking
//* Restocking effect *//
//Takes 6s, cannot be canceled, cannot attack while doing so
//During restocking: blindness, cleared inventory and cannot attack
	@a[$SA$,m=2,RRci=0,RRcs>=1,RRuk=2,RRrs=-1,RRhi=2] RRrs = $StealthRestockDelay$
	@a[$SA$,m=2,RRci=0,RRcs>=1,RRup=2,RRrs=-1,RRhi=2] RRrs = $StealthRestockDelay$
	@a[$SA$,m=2,RRci=0,RRrs=$StealthRestockDelay$] playsound minecraft:block.chest.open voice @a[r=5] ~ ~ ~ 2
	effect @a[$SA$,m=2,RRci=0,RRrs=$StealthRestockDelay$] 15 100 0 true
	effect @a[$SA$,m=2,RRci=0,RRrs=$StealthRestockDelay$] 2 100 1 true
	$s$clear @a[$SA$,m=2,RRci=0,RRrs=$StealthRestockDelay$]
	
	@a[$SA$,m=2,RRci=0,RRrs>=0<=$StealthRestockDelay$] RRrs - 1
	@a[$SA$,m=2,RRci=0,RRrs>=0<=$StealthRestockDelay$] particle endRod ~ ~1 ~ 0.5 0.8 0.5 0 1 force
	@a[$SA$,m=2,RRci=0,RRrs>=0<=$StealthRestockDelay$] ScOP @a[m=2,RRci=0,RRrs>=1,c=1,r=1] RRxp = @a[m=2,RRci=0,RRrs>=1,c=1,r=1] RRrs
	
//Canceled upon death
	@a[RRci=0,RRrs>=1,RRde>=1] RRrs = -1
	
//When RRrs score is at 0: restores inventory
	ScTG @a[$SA$,m=2,RRci=0,RRrs=1] add RRStealthInvRestore
	effect @a[$SA$,m=2,RRci=0,RRrs=1] 15 0 0 true
	effect @a[$SA$,m=2,RRci=0,RRrs=1] 2 0 0 true
	@a[$SA$,m=2,RRci=0,RRrs=1] playsound minecraft:entity.player.levelup voice @a[c=1] ~ ~ ~ 2
	@a[$SA$,m=2,RRci=0,RRrs=1] RRup = 0
	@a[$SA$,m=2,RRci=0,RRrs=1] RRuk = 0
END
//>

//<Testfor Stealth Inventory Restore
FUNC Func_StealthInventoryRestore
//* Inventory restore after cloaking and restocking *//
	testfor @a[m=2,RRStealthInvRestore]
	SetblockTestfor
	
	replaceitem entity @a[$SA$,m=2,RRStealthInvRestore] slot.hotbar.0 StealItemSpeed
	replaceitem entity @a[$SA$,m=2,RRStealthInvRestore] slot.hotbar.1 StealItemJump
	replaceitem entity @a[$SA$,m=2,RRStealthInvRestore] slot.hotbar.2 StealItemCloak
	replaceitem entity @a[$SA$,m=2,RRStealthInvRestore] slot.hotbar.7 StealItemRestock
	
	replaceitem entity @a[$SA$,m=2,RRStealthInvRestore,team=RRg] StealItemHeadG
	replaceitem entity @a[$SA$,m=2,RRStealthInvRestore,team=RRb] StealItemHeadB
	replaceitem entity @a[$SA$,m=2,RRStealthInvRestore,team=RRg] CCItem_GlassPaneG
	replaceitem entity @a[$SA$,m=2,RRStealthInvRestore,team=RRb] CCItem_GlassPaneB
	
	replaceitem entity @a[$SA$,m=2,RRStealthInvRestore,RRur=0] CCItem_RedstoneGive(1)
	replaceitem entity @a[$SA$,m=2,RRStealthInvRestore,RRup=0] slot.hotbar.4 StealItemPoison
	replaceitem entity @a[$SA$,m=2,RRStealthInvRestore,RRuk=0] slot.hotbar.5 StealItemKnife
	
	RevST(RRStealthInvRestore)
END
//>

//<Stealth End
FUNC Func_StealthEnd
	USE $ObjR$
		RRsa
		RRst
		RRse
		RRsc
		RRis
		RRia
		RRic
		RRrs
		RRpo
		RRur
		RRup
		RRuk
	UNUSE
END
//>

//<Stealth Items
FUNC Func_StealthGive
	@a[$SA$,m=2,RRTarget0] RRci = 0
	@a[$SA$,m=2,RRTarget0] RRur = 0
	@a[$SA$,m=2,RRTarget0] RRup = 0
	@a[$SA$,m=2,RRTarget0] RRuk = 0
	@a[$SA$,m=2,RRTarget0] RRst = 0
	@a[$SA$,m=2,RRTarget0] RRse = 0
	@a[$SA$,m=2,RRTarget0] RRsa = $StealthCloakMax$
	replaceitem entity @a[$SA$,m=2,RRTarget0] slot.hotbar.0 StealItemSpeed
	replaceitem entity @a[$SA$,m=2,RRTarget0] slot.hotbar.1 StealItemJump
	replaceitem entity @a[$SA$,m=2,RRTarget0] slot.hotbar.2 StealItemCloak
	replaceitem entity @a[$SA$,m=2,RRTarget0] slot.hotbar.4 StealItemKnife
	replaceitem entity @a[$SA$,m=2,RRTarget0] slot.hotbar.5 StealItemPoison
	replaceitem entity @a[$SA$,m=2,RRTarget0] slot.hotbar.7 StealItemRestock
	replaceitem entity @a[$SA$,m=2,RRTarget0,team=RRg] StealItemHeadG
	replaceitem entity @a[$SA$,m=2,RRTarget0,team=RRb] StealItemHeadB
	replaceitem entity @a[$SA$,m=2,RRTarget0] CCItem_RedstoneGive(1)
	/replaceitem entity @a[x=-153,y=0,z=299,dx=158,dy=110,dz=168,m=2,tag=RRTarget0] slot.inventory.8 written_book 1 0 {pages:[0:"[\"\",{\"text\":\"Stealth\",\"bold\":true},{\"text\":\"\nA Brief Overview\",\"italic\":true},{\"text\":\"\n\"},{\"text\":\"Stealth is a class that can only be used by the blue team. Its primary goal is to sneak around, kill the engineer and place down redstone blocks at ideal locations.\",\"color\":\"dark_gray\"}]",1:"[\"\",{\"text\":\"Stealth\",\"bold\":true},{\"text\":\"\nA Brief Overview\",\"italic\":true},{\"text\":\"\n\"},{\"text\":\"The stealth class cannot attack normally, unless you are holding the big earner. It also has the lowest armor in the game, so beware of PVP situations.\",\"color\":\"dark_gray\"}]",2:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nSpeed Boost:\",\"italic\":true},{\"text\":\"\nHolding this will give you speed 4.\",\"color\":\"dark_gray\"},{\"text\":\"\n\"},{\"text\":\"\nJump Boost:\",\"italic\":true},{\"text\":\"\nHolding this will give you jump boost 3. Note that both can be held at the same time by having one on each hand.\",\"color\":\"dark_gray\"}]",3:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nCloaking Device:\",\"italic\":true},{\"text\":\"\nRight clicking the device will make you invisible to the enemy team for seven seconds. You cannot use any items while cloaked, and you can still bump enemies while cloaked.\",\"color\":\"dark_gray\"}]",4:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nBig Earner:\",\"italic\":true},{\"text\":\"\nThis weapon can one hit kill engineers. If you kill an engineer, 75% of your cloak will be recharged and you will gain 5 seconds of speed.\",\"color\":\"dark_gray\"}]",5:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nLingering Poison Potion:\",\"italic\":true},{\"text\":\"\nThis will poison only the other team, while lasting a full ten seconds. It would be best used for area denial.\",\"color\":\"dark_gray\"}]",6:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nRestocking Device:\",\"italic\":true},{\"text\":\"\nWhen right clicked, you will be blinded and slowed for 6 seconds (as well as unable to use any items), but any used potions or big earners will be given back.\",\"color\":\"dark_gray\"}]"],title:Stealth Overview,author:french_man}
END
//>

//<Stealth Change Classes
FUNC Func_StealthCC
	@a[$SA$,m=2,|0|] RRst = 0
	@a[$SA$,m=2,|0|] RRsa = 0
	@a[$SA$,m=2,|0|] RRse = 0
END
//>


//<Warrior Start (currently has nothing)
FUNC Func_WarriorStart
END
//>

//<Warrior Clock (currently has nothing)
FUNC Func_WarriorClock
END
//>

//<Warrior End (currently has nothing)
FUNC Func_WarriorEnd
END
//>

//<Warrior Items
FUNC Func_WarriorGive
	@a[$SA$,m=2,RRTarget1] RRci = 1
	replaceitem entity @a[$SA$,m=2,RRTarget1] WarrItemHead
	replaceitem entity @a[$SA$,m=2,RRTarget1] WarrItemChest
	replaceitem entity @a[$SA$,m=2,RRTarget1] WarrItemLegs
	replaceitem entity @a[$SA$,m=2,RRTarget1] WarrItemFeet
	replaceitem entity @a[$SA$,m=2,RRTarget1] slot.hotbar.0 WarrItemSword
	replaceitem entity @a[$SA$,m=2,RRTarget1,team=RRg] slot.weapon.offhand WarrItemShieldG
	replaceitem entity @a[$SA$,m=2,RRTarget1,team=RRb] slot.weapon.offhand WarrItemShieldB
	/replaceitem entity @a[x=-153,y=0,z=299,dx=158,dy=110,dz=168,m=2,tag=RRTarget1] slot.inventory.8 written_book 1 0 {pages:[0:"[\"\",{\"text\":\"Warrior\",\"bold\":true},{\"text\":\"\nA Brief Overview\",\"italic\":true},{\"text\":\"\n\"},{\"text\":\"The warrior class has the highest protection out of the four classes, and the best melee weapon. Use this to run and cause melee havoc!\",\"color\":\"dark_gray\"}]",1:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nIron Sword:\",\"italic\":true},{\"text\":\"\nThis sword is similar to all iron swords, except holding this will make you move slower. Unequip the sword when you want to get to a location faster!\",\"color\":\"dark_gray\"}]",2:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nShield:\",\"italic\":true},{\"text\":\"\nThere is nothig special about this shield. Use it to block attacks like normal!\",\"color\":\"dark_gray\"}]"],title:Warrior Overview,author:french_man}
END
//>

//<Warrior Change Classes (currently has nothing)
FUNC Func_WarriorCC
END
//>


//<Archer Start
FUNC Func_ArcherStart
	USE $ObjA$
		RRbu stat.useItem.minecraft.bow RR Bow Use
		RRar dummy RR Arrows
		RRac dummy RR Arrow Calc
		RRac2 dummy RR Arrow Choose
		RRai dummy RR Arrow ID
		RRat dummy RR Arrow Team
	UNUSE
END
//>

//<Archer Clock
FUNC Func_ArcherClock
	//RRar 0: adding
	//RRar 1: in air
	//RRar 2: in ground, adding
	//RRar 3: only goes to this score if it has the RRExplosiveArrow tag to prevent damage twice
	
	//RRar 1 for players: long range
	//RRar 2 for players: close range
	
	//RRai 1: Normal
	//RRai 2: Explosive
	//RRai 3: Blindness
	
	//RRat 1: Green
	//RRat 2: Blue
	
//* Bow ID *//
//1 is holding reg, while 2 is reinforced. reset at end. Replaces "RRHoldingExplosives tag"
	@a[$SA$,m=2,RRci=2] RRhi = 21 {Inventory:[{Slot:-106b,id:"minecraft:bow",Count:1b,tag:{display:{Name:"Regular bow"}}}]}
	@a[$SA$,m=2,RRci=2] RRhi = 22 {Inventory:[{Slot:-106b,id:"minecraft:bow",Count:1b,tag:{display:{Name:"Reinforced bow"}}}]}
	@a[$SA$,m=2,RRci=2] RRhi = 21 {SelectedItem:{id:"minecraft:bow",Count:1b,tag:{display:{Name:"Regular bow"}}}}
	@a[$SA$,m=2,RRci=2] RRhi = 22 {SelectedItem:{id:"minecraft:bow",Count:1b,tag:{display:{Name:"Reinforced bow"}}}}


//* Regular arrow *//
	replaceitem entity @a[$SA$,m=2,RRci=2,RRhi=21] slot.inventory.0 ArchItemArrow(1;0)
	minecraft:clear @a[$SA$,m=2,RRci=2,RRhi=22] ArchItemArrow(-1;-1)


//* Tags arrows *//
	@e[$SA$,type=Arrow] RRar + 0
	@e[$SA$,type=Arrow] RRai + 0
	@e[$SA$,type=Arrow] RRat + 0
	
	@a[$SA$,m=2,RRci>=2<=3,RRbu>=1,team=RRg] @e[type=Arrow,RRar=0,r=5,c=1,RRat=0] RRat = 1
	@a[$SA$,m=2,RRci>=2<=3,RRbu>=1,team=RRb] @e[type=Arrow,RRar=0,r=5,c=1,RRat=0] RRat = 2
	
	@e[type=Arrow,RRar=0,RRai=0] RRai = 3 {damage:4.0d}
	@a[$SA$,m=2,RRci=2,RRbu>=1,RRhi=22] ScOP @e[type=Arrow,RRar=0,r=5,c=1,RRai=3] RRpi = @a[r=2,c=1,m=2,RRci=2,RRbu>=1,RRhi=22] RRpi
	@e[type=Arrow,RRar=0,RRai=0] RRai = 2 {CustomPotionEffects:[{Id:15b,Amplifier:0b,Duration:160}]}
	entitydata @e[type=Arrow,RRar=0,RRai=2] {damage:0.0d}
	@e[type=Arrow,RRar=0,RRai=0] RRai = 1
	
	@e[$SA$,type=Arrow,RRar=0] RRar = 1
	
//* Particle and playsound effects *//
	@e[$SA$,type=Arrow,RRar=1] RRar = 2 {inGround:1b}
	
//* Damage dealt to other team setting *//
	//Requires both direct and splash damage
	//Get averages
	
	//Use RRar on players: 1 for far, 2 for near, 0 for neutral
	//radius of 2: near. 4: far
	//All resistance effects cleared here: change if necessary
	
	effect @a[$SA$,m=2,RRre=0] 11 0 0 true
	effect @e[type=Pig,RRPig] 11 0 0 true
	
	@e[type=Arrow,RRai=3,RRar=2,c=1] RRar = 3
	@e[type=Arrow,RRai=3,RRar=3] playsound minecraft:entity.generic.explode voice @a ~ ~ ~ 1 0.75
	@e[type=Arrow,RRai=3,RRar=3] particle hugeexplosion ~ ~ ~ 0 0 0 0 1 force
	
	@e[$SA$,type=Arrow,RRar=3,RRai=3,RRat=1] ~ ~-1 ~ @a[m=2,team=RRb,r=$ArcherExplosionFar$,RRar=0] RRar = 1
	@e[$SA$,type=Arrow,RRar=3,RRai=3,RRat=1] ~ ~-1 ~ @a[m=2,team=RRb,r=$ArcherExplosionNear$,RRar=1] RRar = 2
	@e[$SA$,type=Arrow,RRar=3,RRai=3,RRat=2] ~ ~-1 ~ @a[m=2,team=RRg,r=$ArcherExplosionFar$,RRar=0] RRar = 1
	@e[$SA$,type=Arrow,RRar=3,RRai=3,RRat=2] ~ ~-1 ~ @a[m=2,team=RRg,r=$ArcherExplosionNear$,RRar=1] RRar = 2
	@e[$SA$,type=Arrow,RRar=3,RRai=3,RRat=1] ~ ~-1 ~ @e[type=Pig,RRPigBlue,r=$ArcherExplosionFar$,RRar=0] RRar = 1
	@e[$SA$,type=Arrow,RRar=3,RRai=3,RRat=1] ~ ~-1 ~ @e[type=Pig,RRPigBlue,r=$ArcherExplosionNear$,RRar=1] RRar = 2
	@e[$SA$,type=Arrow,RRar=3,RRai=3,RRat=2] ~ ~-1 ~ @e[type=Pig,RRPigGreen,r=$ArcherExplosionFar$,RRar=0] RRar = 1
	@e[$SA$,type=Arrow,RRar=3,RRai=3,RRat=2] ~ ~-1 ~ @e[type=Pig,RRPigGreen,r=$ArcherExplosionNear$,RRar=1] RRar = 2
	
	@e[type=Arrow,RRar=3] ~ ~-1 ~ @a[m=2,RRci=2,r=$ArcherExplosionSelfFar$] RRac2 = 1
	@e[type=Arrow,RRar=3] ~ ~-1 ~ @a[m=2,RRci=2,r=$ArcherExplosionSelfNear$] RRac2 = 2
	
	
//* Self inflicted damage setting *//
	//Use the pig pickup format but with chooses like self destuct
	//Also starts from an entity versus a player, which means all players - entity
	
	@a[$SA$,m=2,RRci=2,RRac2>=1<=2] RRac = RRpi
	ScOP @a[$SA$,m=2,RRci=2,RRac2>=1<=2] RRac -= @e[type=Arrow,c=1,RRar=3] RRpi
	@a[m=2,RRci=2,RRac=0,RRar=0,RRac2>=1<=2] RRar = RRac2
//	@a[m=2,RRci=2,RRac=0,RRar=0,RRac2=1] RRar = 1
//	@a[m=2,RRci=2,RRac=0,RRar=1,RRac2=2] RRar = 2
	
//* Deals damage based on class and range *//
//		HrmLvl	ResLvl	Dmg		CN	CF
//		1		2		1.8			w
//		1		1		2.4		w	a
//		1		0		3		a	e
//		2		2		3.6		e	
//		2		1		4.8			s
//		2		0		6		s	
//Pig = archer

	effect @a[$SA$,m=2,RRci=0,RRar=1] 11 1 0 true
	effect @a[$SA$,m=2,RRci=0,RRar>=1<=2] 7 1 1 true
	
	effect @a[$SA$,m=2,RRci=3,RRar=2] 11 1 1 true
	effect @a[$SA$,m=2,RRci=3,RRar=2] 7 1 1 true
	effect @a[$SA$,m=2,RRci=3,RRar=1] 7 1 0 true
	
	effect @a[$SA$,m=2,RRci=2,RRar=1] 11 1 0 true
	effect @a[$SA$,m=2,RRci=1,RRar=2] 11 1 0 true
	effect @a[$SA$,m=2,RRci=1,RRar=1] 11 1 1 true
	effect @a[$SA$,m=2,RRci>=1<=2,RRar>=1<=2] 7 1 0 true
	
	effect @e[type=Pig,RRar=1,RRPig] 11 1 0 true
	effect @e[type=Pig,RRar>=1<=2,RRPig] 7 1 0 true
	
//* Reset all arrow scores and tags *//
	ScRE @a[RRac<=10000] RRac
	ScRE @a[RRac2<=10000] RRac2
	@a[RRar>=1] RRar = 0
	@e[type=Pig,RRar>=1] RRar = 0
	@a[RRbu>=1] RRbu = 0
	ScTG @e[type=Arrow,RRar=3] add RRCanKillArrow
	ScTG @e[type=Arrow,RRar=2,RRai>=1<=2] add RRCanKillArrow
	$s$kill @e[type=Arrow,RRCanKillArrow]
END
//>

//<Archer End
FUNC Func_ArcherEnd
	USE $ObjR$
		RRbu
		RRar
		RRac
		RRac2
		RRai
		RRat
	UNUSE
END
//>

//<Archer Items
FUNC Func_ArcherGive
	@a[$SA$,m=2,RRTarget2] RRci = 2
	@a[$SA$,m=2,RRTarget2] RRbu = 0
	replaceitem entity @a[$SA$,m=2,RRTarget2] slot.weapon.offhand bow 1 0 {Unbreakable:1,HideFlags:127,CanDestroy:["minecraft:sand"],ench:[{id:51,lvl:1}],display:{Name:"Regular bow",Lore:["Infinity 1"]}}
	replaceitem entity @a[$SA$,m=2,RRTarget2] slot.hotbar.0 ArchItemReinforced
	replaceitem entity @a[$SA$,m=2,RRTarget2] slot.hotbar.1 ArchItemKnife
	replaceitem entity @a[$SA$,m=2,RRTarget2] slot.hotbar.3 ArchItemStick
	replaceitem entity @a[$SA$,m=2,RRTarget2] slot.hotbar.7 ArchItemRocket(3;0)
	
	replaceitem entity @a[$SA$,m=2,RRTarget2,team=RRg] ArchItemHeadG
	replaceitem entity @a[$SA$,m=2,RRTarget2,team=RRb] ArchItemHeadB
	replaceitem entity @a[$SA$,m=2,RRTarget2] ArchItemChest
	replaceitem entity @a[$SA$,m=2,RRTarget2] ArchItemLegs
	replaceitem entity @a[$SA$,m=2,RRTarget2] ArchItemFeet
	/replaceitem entity @a[x=-153,y=0,z=299,dx=158,dy=110,dz=168,m=2,tag=RRTarget2] slot.inventory.8 written_book 1 0 {pages:[0:"[\"\",{\"text\":\"Archer\",\"bold\":true},{\"text\":\"\nA Brief Overview\",\"italic\":true},{\"text\":\"\n\"},{\"text\":\"The archer class can deal powerful ranged damage, while sacrificing armor and melee ability. Stay away from the main combat and shoot away!\",\"color\":\"dark_gray\"}]",1:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nReinforced Bow:\",\"italic\":true},{\"text\":\"\nThis bow shoots powerful arrows. If the arrow hits the ground, it explodes and deals splash damage. If the arrow directly hits an enemy, it does not explode but deals more damage (power 3).\",\"color\":\"dark_gray\"}]",2:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nReinforced Bow:\",\"italic\":true},{\"text\":\"\nThis weapon has limited ammo, so be wary of your shots. To regain the ammo, stand near a friendly dispenser (pig) or go back to spawn and restock your items.\",\"color\":\"dark_gray\"}]",3:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nRegular Bow:\",\"italic\":true},{\"text\":\"\nUnlike the reinforced bow, this has infinite ammo. Like all regular bows, this deals no explosive damage, and has no power enchantment.\",\"color\":\"dark_gray\"}]",4:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nWooden Knife:\",\"italic\":true},{\"text\":\"\nThis is a pathetic melee weapon that should only be used if you are forced into melee combat.\",\"color\":\"dark_gray\"}]",5:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nScoping Stick:\",\"italic\":true},{\"text\":\"\nThis will give you the ability to scope into far away places, but removes the ability to move when used.\",\"color\":\"dark_gray\"}]"],title:Archer Overview,author:french_man}
END
//>

//<Archer Change Classes (currently has nothing)
FUNC Func_ArcherCC
END
//>


//<Engineer Start
FUNC Func_EngineerStart
	USE $ObjA$
		RRam dummy RR Pig Amount
		RRns dummy RR Newly Spawned Pig
		RRue stat.useItem.minecraft.spawn_egg RR Used Spawn Egg
		RRdp dummy RR Dead Pig
		RRae dummy RR Stats Affected Entities
		RRtd dummy RR Teleport Delay
		RRpt dummy RR Pig State
		RRrt dummy RR Regen State
		RRrg dummy RR Regeneration
		RRao dummy RR Pig Ammo
		RRpp dummy RR Pig Pickup Timer
		RRpc1 dummy RR Pig Calc 1
		RRpc2 dummy RR Pig Calc 2
		RRpc3 dummy RR Pig Calc 3
		RRpc4 dummy RR Pig XP Calc
		RRpc5 dummy RR Pig Calc 5
	UNUSE
END
//>

//<Engineer Clock: Dispenser pig
FUNC Func_EngineerClock
//	Given 3 states:
//	0: regular, can build
//	1: when built, between 0 and 2 (giving carrot on a stick)
//	2: when built
	
//Newly spawned, use RRpi as pig ID although not for pig, but for armor stand - Armorstand stores all info, while pig just has the display. If pig dies, is detected by the armor stand.
//Requires pig to be spawned not ontop of another pig for proper armor stand detection
//Requires baby pig detection and recovery
//Send requests via carrot on a stick. 1 request per tick will be processed

//Pig RRns:
//RRns 0: just spawned
//RRns 1: set after rotation
//RRns 2: set when on ground
//RRns 3: after all calculations on ground, ending
	
//Armor Stand RRns:
//RRns 0: just spawned
//RRns 2: immediately sets to 2 to avoid confusion as armor stands are summoned at RRns 2 stage of the pig
//RRns 3: ending

//* Tags for the player when holding certain weapons *//
	@a[$SA$,m=2,RRci=3] RRhi = 30 {Inventory:[{Slot:-106b,id:"minecraft:carrot_on_a_stick",Count:1b,tag:{display:{Name:"Pickup"}}}]}
	@a[$SA$,m=2,RRci=3] RRhi = 31 {Inventory:[{Slot:-106b,id:"minecraft:carrot_on_a_stick",Count:1b,tag:{display:{Name:"Self Destruct"}}}]}
	@a[$SA$,m=2,RRci=3] RRhi = 30 {SelectedItem:{id:"minecraft:carrot_on_a_stick",Count:1b,tag:{display:{Name:"Pickup"}}}}
	@a[$SA$,m=2,RRci=3] RRhi = 31 {SelectedItem:{id:"minecraft:carrot_on_a_stick",Count:1b,tag:{display:{Name:"Self Destruct"}}}}
	
	
//* Setting up the dispenser *//
	@a[$SA$,m=2,RRci=3] RRpt + 0
	@e[$SA$,type=Pig,tag=RRPig] RRns + 0
	ScTJ RRd_b @e[$SA$,type=Pig,RRns=0,RRPigBlue]
	ScTJ RRd_g @e[$SA$,type=Pig,RRns=0,RRPigGreen]
	
//* Rotation of the pig *//
	@a[$SA$,m=2,RRci=3,RRpt=0,RRue=1,ry=224,rym=135] ScTG @e[type=Pig,RRPig,RRns=0,r=6,c=1] add RRPigRotationS
	@a[$SA$,m=2,RRci=3,RRpt=0,RRue=1,ry=44,rym=-45] ScTG @e[type=Pig,RRPig,RRns=0,r=6,c=1] add RRPigRotationN
	@a[$SA$,m=2,RRci=3,RRpt=0,RRue=1,ry=-44,rym=-135] ScTG @e[type=Pig,RRPig,RRns=0,r=6,c=1] add RRPigRotationW
	@a[$SA$,m=2,RRci=3,RRpt=0,RRue=1,ry=134,rym=45] ScTG @e[type=Pig,RRPig,RRns=0,r=6,c=1] add RRPigRotationE
	
//* Setting the PID of the pig *//
	@e[$SA$,type=Pig,RRPigBlue,RRns=0] RRpi = @a[c=1,r=6,team=RRb,RRci=3,RRpt=0,RRue>=1] RRpi
	@e[$SA$,type=Pig,RRPigGreen,RRns=0] RRpi = @a[c=1,r=6,team=RRg,RRci=3,RRpt=0,RRue>=1] RRpi
	@a[$SA$,m=2,RRci=3,RRue>=1] RRue = 2
	@e[$SA$,type=Pig,RRns=0,RRPig] RRpi + 0
	$s$kill @e[$SA$,type=Pig,RRns=0,RRpi=0,RRPig]
	@e[$SA$,type=Pig,RRns=0,RRPig] RRns = 1
	
//* Recovery for baby pig, with tellraw message *//
	ScTG @e[$SA$,type=Pig] add RRPigBaby {CustomName:"Dispenser Pig"}
	@e[$SA$,type=Pig,RRPigBaby] ScTG @a[r=6,RRci=3,RRpt=0,RRue=0] add RRPlacedBabyTest
	@a[$SA$,m=2,RRci=3,RRPlacedBabyTest] minecraft:clear @a[r=1,c=1] spawn_egg -1 0
	ScTG @a[$SA$,RRci=3,RRpt=0,RRaf=0,RRPlacedBabyTest] add RRPlacedBaby
	
///	Killing of baby pigs
	$s$kill @e[$SA$,type=Pig,RRPigBaby]
	ScTG @a[$SA$,m=2,RRci=3,RRPlacedBaby] add RRPigDispenserGive
	tellraw @a[$SA$,m=2,RRci=3,RRPlacedBaby] $TextStart${"text":"Don't place a pig on another pig!","color":"red","italic":true}]}
	RevST(RRPlacedBabyTest)
	RevST(RRPlacedBaby)
	
///	Objective: RRns
///	Tags for all: RRPigDispenser
///	Tags: RRPig, RRPigBlue, RRPigGreen
///	Tags for AS: RRArmorStand, RRASPig, RRASPigGreen, RRASPigBlue
	
///	OnGround set RRns to 2
	@e[$SA$,type=Pig,RRns=1,RRPig] RRns = 2 {OnGround:1b}
	
//* Detection of a pig being on another pig *//
///	Closest player with RRue of 2 to pig with RRns of 2, RRae min of 2 and RRpt of 0
	@e[$SA$,type=Pig,RRPig,RRns=2] stats entity @e[RRPig,r=0,c=1] set AffectedEntities @e[RRPig,r=0,c=1] RRae
	@e[$SA$,type=Pig,RRPig] RRae + 0
	@e[$SA$,type=Pig,RRPig] tellraw @e[type=Pig,RRPig,r=0] baby i'm ballin
//(Maybe simply change to testfor if necessary)
	ScTG @e[$SA$,type=Pig,RRPig,RRae>=2,RRns=2] add RRPigPlaced
	@e[$SA$,type=Pig,RRPigPlaced] ScTG @a[r=6,c=1,RRue>=2,RRpt=0] add RRPlacedOnPig
	$s$kill @e[$SA$,type=Pig,RRPigPlaced]
	ScTG @a[$SA$,m=2,RRci=3,RRPlacedOnPig] add RRPigDispenserGive
	@a[$SA$,m=2,RRci=3,RRPlacedOnPig] RRue = 0
	tellraw @a[$SA$,m=2,RRci=3,RRPlacedOnPig] $TextStart${"text":"Don't place a pig on top of another pig!","color":"red","italic":true}]}
	RevST(RRPlacedOnPig)
	
	
//* Regular summoning of armor stands, removal of invulnerability from pigs *//
	@e[$SA$,type=Pig,RRns=2,RRPig] RRar + 0
	$s$tp @e[type=Pig,RRPigRotationN,RRns=2] ~ ~ ~ 180 0
	$s$tp @e[type=Pig,RRPigRotationS,RRns=2] ~ ~ ~ 0 0
	$s$tp @e[type=Pig,RRPigRotationE,RRns=2] ~ ~ ~ 270 0
	$s$tp @e[type=Pig,RRPigRotationW,RRns=2] ~ ~ ~ 90 0
	
	@e[$SA$,type=Pig,RRns=2,RRPigGreen] summon ArmorStand ~ ~ ~ {DisabledSlots:2096896,Marker:1,NoGravity:1,NoBasePlate:1,ShowArms:1,Small:1,Invulnerable:1,PersistenceRequired:1,Invisible:1,ArmorItems:[{},{},{},{id:stained_hardened_clay,Count:1b,Damage:5s}],Tags:["RRPigDispenser","RRArmorStand","RRASPig","RRASPigGreen"]}
	@e[$SA$,type=Pig,RRns=2,RRPigBlue] summon ArmorStand ~ ~ ~ {DisabledSlots:2096896,Marker:1,NoGravity:1,NoBasePlate:1,ShowArms:1,Small:1,Invulnerable:1,PersistenceRequired:1,Invisible:1,ArmorItems:[{},{},{},{id:stained_hardened_clay,Count:1b,Damage:3s}],Tags:["RRPigDispenser","RRArmorStand","RRASPig","RRASPigBlue"]}
	@e[$SA$,type=ArmorStand,RRASPig] RRns + 0
	@e[$SA$,type=ArmorStand,RRASPig,RRns=0] RRns = 2
	entitydata @e[$SA$,type=Pig,RRPig,RRns=2] {Invulnerable:0}
	
	@e[$SA$,type=ArmorStand,RRASPig,RRns=2] RRpi = @e[type=Pig,RRPig,c=1,dy=-1,RRns=2] RRpi
	
	
//* Detection of RRpt to go to 1 *//
//	RRpc5
	ScTG @e[$SA$,type=ArmorStand,RRASPig,c=1,RRns=2] add RRASPigRRptChoose
	@e[$SA$,type=ArmorStand,RRASPigRRptChoose] @a[m=2,RRci=3,RRpt=0,RRue=2] ScOP @a[m=2,RRci=3,RRpt=0,RRue=2,c=1] RRpc5 = @a[m=2,RRci=3,RRpt=0,RRue=2,c=1] RRpi
	ScOP @a[m=2,RRci=3,RRpt=0,RRue=2] RRpc5 -= @e[$SA$,type=ArmorStand,RRASPigRRptChoose] RRpi
	@a[m=2,RRci=3,RRpt=0,RRue=2,RRpc5=0] RRpt = 1
	
	@a[RRci=3,RRpt=1,RRue>=2] RRue = 0
	@e[type=Pig,RRPig,RRns=2] RRns = 3
	@e[type=ArmorStand,RRASPigRRptChoose,RRns=2] RRns = 3
	ScRE @a[RRpc5<=10000] RRpc5
	ScTG @e[type=ArmorStand,RRASPigRRptChoose] remove RRASPigRRptChoose
	
//* Transfer from RRpt 1 to RRpt 2 *//
	$s$clear @a[$SA$,m=2,RRci=3,RRpt=1] spawn_egg
	replaceitem entity @a[$SA$,m=2,RRci=3,RRpt=1,!RRDispenserPickup] slot.hotbar.5 EngieItemPickup
	@a[$SA$,m=2,RRci=3,RRpt=1,RRDispenserPickup] RRpp = $EngiePickupDelay$
	replaceitem entity @a[$SA$,m=2,RRci=3,RRpt=1] slot.hotbar.6 EngieItemDestruct
	replaceitem entity @a[$SA$,m=2,RRci=3,RRpt=1,RRDispenserPickup] slot.hotbar.1 EngieItemBow
	ScTG @a[$SA$,m=2,RRci=3,RRpt=1,RRDispenserPickup] remove RRDispenserPickup
	@a[m=2,RRpt=1,RRci=3] RRpt = 2
	
//* Pickup CoS delay *//
	@a[$SA$,m=2,RRci=3,RRpt=2,RRpp>=0] RRpp - 1
	replaceitem entity @a[$SA$,m=2,RRci=3,RRpt=2,RRpp=0] slot.hotbar.5 EngieItemPickup
	@a[$SA$,m=2,RRci=3,RRpt=2,RRpp=0] playsound minecraft:entity.item.pickup voice @a[c=1]
///	@a[RRpp=0] RRpp = -1
	@a[$SA$,m=2,RRpp>=1,RRpt=0] RRpp = -1
	
//* Request for pickup, will test to see if the target matches *//
//RRPickupRequest (person), RRPickupRequestTarget (armor stand)
	ScTG @a[$SA$,m=2,RRci=3,RRpt=2,RRcs>=1,RRhi=30] add RRPickupRequest
	@a[$SA$,RRPickupRequest] ScTG @e[type=ArmorStand,c=1,r=3,RRASPig] add RRPickupRequestTarget
	
	@a[$SA$,RRPickupRequest] RRpc1 = RRpi
	@a[$SA$,RRPickupRequest] RRpc1 - @e[type=ArmorStand,RRPickupRequestTarget,c=1,r=3] RRpi
	@a[$SA$,RRPickupRequest,RRpc1=0] @e[type=ArmorStand,RRPickupRequestTarget,c=1,r=3] ~ ~1 ~ ScTG @e[type=Pig,RRPig,c=1,dy=-3] add RRPickupDeath
	@e[type=Pig,RRPickupDeath] particle explode ~ ~0.5 ~ 0.5 0.3 0.5 0 30 force
	@e[type=Pig,RRPickupDeath] playsound minecraft:entity.item.pickup voice @a[r=5]
	$s$tp @e[type=Pig,RRPickupDeath] ~ ~-150 ~
	$s$kill @e[type=Pig,RRPickupDeath]
	@a[$SA$,RRPickupRequest,RRpc1=0] $s$kill @e[type=ArmorStand,RRPickupRequestTarget,c=1,r=3]
	
//* If RRpc1 matches with a score of 0, activates all *//
	$s$clear @a[$SA$,RRPickupRequest,RRpc1=0] carrot_on_a_stick
	$s$clear @a[$SA$,RRPickupRequest,RRpc1=0] bow
	ScTG @a[$SA$,RRPickupRequest,RRpc1=0] add RRPigDispenserGive
	ScTG @a[$SA$,RRPickupRequest,RRpc1=0] add RRDispenserPickup
	ScTG @a[$SA$,m=2,RRDispenserPickup] add RRWeakness
	@a[$SA$,RRPickupRequest,RRpc1=0] RRpt = 0
	RevST(RRPickupRequest)
	ScRE @a[RRpc1<=10000] RRpc1
	ScTG @e[type=ArmorStand,RRPickupRequestTarget] remove RRPickupRequestTarget
	
//* If dead during pickup phaze *//
	ScTG @a[RRDispenserPickup,RRde>=1,RRci=3] add RRDeadPigPlayer
	ScTG @a[RRDispenserPickup,RRde>=1,RRci=3] remove RRDispenserPickup

//* Request for self destruct *//
	ScTG @a[$SA$,m=2,RRci=3,RRpt=2,RRcs>=1,RRhi=31] add RRDestructRequest
	ScTG @a[m=2,RRDestructRequest,c=1] add RRDestructRequestChoose
	@a[RRDestructRequestChoose,c=1] @e[type=ArmorStand,RRASPig] RRpc2 = RRpi
	@a[RRDestructRequestChoose,c=1] @e[type=Pig,RRPig] RRpc2 = RRpi
	ScOP @e[RRPigDispenser,RRpc2<=10000] RRpc2 -= @a[RRDestructRequestChoose,c=1] RRpi
	$s$kill @e[RRPigDispenser,RRpc2=0]
	
//*  Clearing, replaceitem, etc. *//
	$s$clear @a[RRci=3,RRDestructRequestChoose] carrot_on_a_stick
	@a[RRDestructRequestChoose] RRpt = 0
	@a[RRDestructRequestChoose] RRam = $EngiePickupDestruct$
	@a[RRam>=0<=$EngiePickupDeath$,m=2] RRam - 1
	ScTG @a[m=2,RRci=3,RRam=0,RRpt=0] add RRPigDispenserGive
	@a[m=2,RRci=3,RRam=0,RRpt=0] playsound minecraft:entity.player.levelup voice @a[c=1]
///	@a[RRam=0] RRam = -1
	RevST(RRDestructRequest)
	RevST(RRDestructRequestChoose)
	
//* Upon death of the dispenser *//
	@e[$SA$,type=ArmorStand,RRASPig] RRdp = 1
	@e[$SA$,type=Pig,RRPig] ~ ~-1 ~ @e[type=ArmorStand,RRASPig,dy=1] RRdp = 0
	@e[$SA$,type=ArmorStand,RRASPig,RRdp=1] $s$kill @e[type=Pig,RRPig,dy=-1]
	ScTG @e[$SA$,type=ArmorStand,RRASPig,RRdp=1,c=1] add RRDeadPigChoose
	@e[$SA$,type=ArmorStand,RRDeadPigChoose,RRdp=1,c=1] @a[m=2,RRci=3,RRpt=2] ScOP @a[c=1,m=2,RRci=3,RRpt=2] RRpc3 = @a[c=1,m=2,RRci=3,RRpt=2] RRpi
	ScOP @a[m=2,RRci=3,RRpt=2] RRpc3 -= @e[$SA$,type=ArmorStand,RRdp=1,RRDeadPigChoose] RRpi
	$s$kill @e[type=ArmorStand,RRdp=1,RRDeadPigChoose]
	ScTG @a[m=2,RRci=3,RRpt=2,RRpc3=0] add RRDeadPigPlayer
	@a[RRDeadPigPlayer,RRci=3] RRpt = 0
	@a[RRDeadPigPlayer,RRci=3] RRam = $EngiePickupDeath$
	tellraw @a[RRDeadPigPlayer,RRci=3] $TextStart${"text":"Your dispenser had been destroyed!","color":"red","italic":true}]}
	@a[RRDeadPigPlayer,RRci=3] playsound minecraft:entity.pig.death voice @a[c=1]
	$s$clear @a[RRDeadPigPlayer] carrot_on_a_stick
	RevST(RRDeadPigPlayer)
	ScRE @a[RRpc3<=10000] RRpc3

	
//* Gives back pig egg *//
	replaceitem entity @a[RRci=3,team=RRg,RRPigDispenserGive] slot.hotbar.4 EngieItemEggG
	replaceitem entity @a[RRci=3,team=RRb,RRPigDispenserGive] slot.hotbar.4 EngieItemEggB
	RevST(RRPigDispenserGive)
	
//* Ammo regeneration *//
//	Has to regen cloak, rockets and blindness arrows
	@e[$SA$,type=Pig,RRPigGreen] ScTG @a[r=$DispenserRadius$,m=2,team=RRg] add RRNearDispenser
	@e[$SA$,type=Pig,RRPigBlue] ScTG @a[r=$DispenserRadius$,m=2,team=RRb] add RRNearDispenser
	@a[$SA$,m=2,RRci>=2<=3,!RRNearDispenser] RRao = 0
	@a[$SA$,m=2,RRci=0,RRst=0,RRsa>=-1<=279,RRNearDispenser] RRsa + 1
	@a[$SA$,m=2,RRci=2,RRNearDispenser] $s$clear @a[r=0,c=1,RRci=2] ArchItemRocket(-1;0)
	@a[$SA$,m=2,RRci=3,RRNearDispenser] $s$clear @a[r=0,c=1,RRci=3] EngieItemArrow(-1;0)
	
	@a[$SA$,m=2,RRci=2,RRaf<=2,RRao<=99,RRNearDispenser] RRao + 1
	replaceitem entity @a[$SA$,m=2,RRci=2,RRaf=0,RRao=$DispenserRocketDelay$,RRNearDispenser] slot.hotbar.7 ArchItemRocket(1;0)
	$s$give @a[$SA$,m=2,RRci=2,RRaf>=1<=2,RRao=$DispenserRocketDelay$,RRNearDispenser] ArchItemRocket(1;0)
	@a[$SA$,m=2,RRci=2,RRNearDispenser,RRao>=$DispenserRocketDelay$] RRao = 0
	
	@a[$SA$,m=2,RRci=3,RRaf<=1,RRao<=149,RRNearDispenser] RRao + 1
	replaceitem entity @a[$SA$,m=2,RRci=3,RRaf=0,RRao=$DispenserBlindnessDelay$,RRNearDispenser] slot.hotbar.7 EngieItemArrow(1;0)
	$s$give @a[$SA$,m=2,RRci=3,RRaf=1,RRao=$DispenserBlindnessDelay$,RRNearDispenser] EngieItemArrow(1;0)
	@a[$SA$,m=2,RRci=3,RRNearDispenser,RRao>=$DispenserBlindnessDelay$] RRao = 0

//>

//<Engineer Clock: Health Regenen
//* Health regeneration *//
//Cannot use regeneration anywhere else
//	0: reset
//	1: engie regen
//	2: dispenser regen (takes over engie regen ofc)
//	Transfer from 2 to 1 and 1 to 2: does not reset timer
//	RRrt Regen State

	effect @a[$SA$,m=2] 10 0 0 true
	@a[$SA$,m=2,RRci=3,team=RRg] @a[r=$EngieRegenRadius$,m=2,team=RRg] RRrt = 1
	@a[$SA$,m=2,RRci=3,team=RRb] @a[r=$EngieRegenRadius$,m=2,team=RRb] RRrt = 1
	@a[RRNearDispenser,m=2] RRrt = 2
	@a[$SA$,m=2,RRrt=0,RRrg>=1] RRrg = 0
	@a[$SA$,m=2,RRrt>=1<=2,RRrg>=0<=SUB($EngieRegenDelay$;1)] RRrg + 1
	effect @a[$SA$,m=2,RRrt=1,RRrg=$EngieRegenDelay$] 10 1 10 true
	effect @a[$SA$,m=2,RRrt=2,RRrg=$DispenserRegenDelay$] 10 1 10 true
	
	@a[$SA$,m=2,RRrt=1,RRrg>=$EngieRegenDelay$] RRrg = 0
	@a[$SA$,m=2,RRrt=2,RRrg>=$DispenserRegenDelay$] RRrg = 0
	@a[RRrt>=1] RRrt = 0
	RevST(RRNearDispenser)
//>

//<Engineer Clock: XP effects
//* XP Start Calc *//
	@a[$SA$,m=2,RRci=3,RRpp>=0] ScOP @a[m=2,RRci=3,RRpp>=0,c=1,r=1] RRxp = @a[m=2,RRci=3,RRpp>=0,c=1,r=1] RRpp
	@a[$SA$,m=2,RRci=3,RRpp=-1] ScOP @a[m=2,RRci=3,RRpp=-1,c=1,r=1] RRxp = @a[m=2,RRci=3,RRpp=-1,c=1,r=1] RRam
	
///XP Sound effects
///Plays every second
///	@a[$SA$,m=2,RRpt=0,RRci=3,RRam>=1<=319] RRpc4 = RRam
///	@a[$SA$,m=2,RRpt=0,RRci=3,RRam>=1<=319] RRpc4 % 20
///	@a[$SA$,m=2,RRpt=0,RRci=3,RRpc4=0,RRam>=1<=319] playsound entity.experience_orb.touch voice @a[c=1] ~ ~ ~ 0.5
///	@a[m=2,RRci=3,RRpc4<=320] RRpc4 = 0
//>

//<Engineer Clock: Teleport Potion
//* Teleporting *//
	//RRtd
	ScTG @a[$SA$,m=2,RRci=3] add RREngineerTeleport {ActiveEffects:[{Id:13b,Amplifier:0b}]}
	@a[$SA$,m=2,RRci=3,RREngineerTeleport] RRtd + 0
	@a[$SA$,m=2,RRci=3,RRtd=0] playsound minecraft:weather.rain voice @a[r=5] ~ ~ ~ 2 1.5
	@a[$SA$,m=2,RRci=3,RRtd>=0<=$EngieTeleportDelay$] RRtd + 1
	@a[$SA$,m=2,RRci=3,RRtd>=1<=$EngieTeleportDelay$] particle explode ~ ~1 ~ 0.3 0.6 0.3 0 1 force @a
	$s$tp @a[$SA$,m=2,RRci=3,RRtd=$EngieTeleportDelay$,team=RRg] $SpawnG$
	$s$tp @a[$SA$,m=2,RRci=3,RRtd=$EngieTeleportDelay$,team=RRb] $SpawnB$
	@a[$SA$,m=2,RRci=3,RRtd=$EngieTeleportDelay$] RRte = 3
	ScTG @a[$SA$,m=2,RRci=3,RRtd=$EngieTeleportDelay$] add RRTarget3
	ScRE @a[$SA$,m=2,RRci=3,RRtd>=$EngieTeleportDelay$] RRtd
	ScRE @a[m=2,RRci=3,RRtd<=$EngieTeleportDelay$,RRde>=1] RRtd
	effect @a[RREngineerTeleport] 13 0 0 true
	RevST(RREngineerTeleport)
END
//>


//<Engineer Asthetics Clock
FUNC Func_EngineerPigAstheticsClock
///	Teleporting armor stands. Can be disabled if causing lag
	$s$tp @e[type=ArmorStand,RRASPig] ~ ~ ~ ~2 ~
	@e[$SA$,type=Pig,RRPigGreen,RRns=3] particle mobSpell ~ ~0.9 ~ 0.3 1 0.3 1 0 force
	@e[$SA$,type=Pig,RRPigBlue,RRns=3] particle mobSpell ~ ~0.9 ~ 0.3 0.3 1 1 0 force
	@e[$SA$,type=Pig,RRPigGreen,RRns=3] @a[r=3,m=2,team=RRg] particle mobSpellAmbient ~ ~ ~ 0.2 1 0.2 1 0 force
	@e[$SA$,type=Pig,RRPigBlue,RRns=3] @a[r=3,m=2,team=RRb] particle mobSpellAmbient ~ ~ ~ 0.2 0.2 1 1 0 force
END
//>

//<Engineer End
FUNC Func_EngineerEnd
	USE $ObjR$
		RRam
		RRns
		RRue
		RRdp
		RRae
		RRtd
		RRpt
		RRrt
		RRrg
		RRao
		RRpp
		RRpc1
		RRpc2
		RRpc3
		RRpc4
		RRpc5
	UNUSE
	$s$kill @e[RRPigDispenser]
	ScTG * remove RRDispenserPickup
	ScTG * remove RRDestructRequest
END
//>

//<Engineer Items
FUNC Func_EngineerGive
	@a[$SA$,m=2,RRTarget3] RRci = 3
	@a[$SA$,m=2,RRTarget3] RRpt + 0
	replaceitem entity @a[$SA$,m=2,RRTarget3,team=RRg] EngieItemHeadG
	replaceitem entity @a[$SA$,m=2,RRTarget3,team=RRb] EngieItemHeadB
	replaceitem entity @a[$SA$,m=2,RRTarget3,team=RRg] EngieItemChestG
	replaceitem entity @a[$SA$,m=2,RRTarget3,team=RRb] EngieItemChestB
	replaceitem entity @a[$SA$,m=2,RRTarget3,team=RRg] EngieItemLegsG
	replaceitem entity @a[$SA$,m=2,RRTarget3,team=RRb] EngieItemLegsB
	replaceitem entity @a[$SA$,m=2,RRTarget3,team=RRg] EngieItemFeetG
	replaceitem entity @a[$SA$,m=2,RRTarget3,team=RRb] EngieItemFeetB
	replaceitem entity @a[$SA$,m=2,RRTarget3] slot.hotbar.0 EngieItemPickaxe
	@a[$SA$,m=2,RRTarget3] replaceitem entity @a[r=0,c=1,m=2,!RRDispenserPickup] slot.hotbar.1 EngieItemBow
	replaceitem entity @a[$SA$,m=2,RRTarget3] slot.hotbar.2 EngieItemPotion
		@a[$SA$,m=2,RRTarget3] RRam + 0
		@a[$SA$,m=2,RRTarget3,RRam=0] RRam = -1
	replaceitem entity @a[$SA$,m=2,RRTarget3,team=RRg,RRpt=0,RRam=-1,RRue=0] slot.hotbar.4 EngieItemEggG
	replaceitem entity @a[$SA$,m=2,RRTarget3,team=RRb,RRpt=0,RRam=-1,RRue=0] slot.hotbar.4 EngieItemEggB
		@a[$SA$,m=2,RRTarget3] RRpp + 0
		@a[$SA$,m=2,RRTarget3,RRpp=0] RRpp = -1
	replaceitem entity @a[$SA$,m=2,RRTarget3,RRpt=2,RRpp=-1] slot.hotbar.5 EngieItemPickup
	replaceitem entity @a[$SA$,m=2,RRTarget3,RRpt=2] slot.hotbar.6 EngieItemDestruct
	replaceitem entity @a[$SA$,m=2,RRTarget3] slot.hotbar.7 EngieItemArrow(2;0)
	replaceitem entity @a[$SA$,m=2,RRTarget3] CCItem_RedstoneGive(2)
	/replaceitem entity @a[x=-153,y=0,z=299,dx=158,dy=110,dz=168,m=2,tag=RRTarget3] slot.inventory.8 written_book 1 0 {pages:[0:"[\"\",{\"text\":\"Engineer\",\"bold\":true},{\"text\":\"\nA Brief Overview\",\"italic\":true},{\"text\":\"\n\"},{\"text\":\"The engineer specializes in supporting the team, and allowing it to function at its fullest. You and your dispenser is the only source of healing in the entire game, and you can destroy and place redstone blocks as needed.\",\"color\":\"dark_gray\"}]",1:"[\"\",{\"text\":\"Engineer\",\"bold\":true},{\"text\":\"\nA Brief Overview\",\"italic\":true},{\"text\":\"\n\"},{\"text\":\"Every engineer has an aura around them with a radius of three blocks, where everyone in it regenerates health.\",\"color\":\"dark_gray\"}]",2:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nDiamond Pickaxe:\",\"italic\":true},{\"text\":\"\nAlthough its primary use is to mine out redstone blocks and obsidian blocks, it can be used as a melee weapon. However, do not expect to be able to defend very well against other with just the pickaxe.\",\"color\":\"dark_gray\"}]",3:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nPotion of Teleportation:\",\"italic\":true},{\"text\":\"\nThis allows you to teleport back to spawn in a matter of seconds.\",\"color\":\"dark_gray\"}]",4:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nThe Bow:\",\"italic\":true},{\"text\":\"\nThis shoots zero damage blindness arrows, with the maxiumum ammo capacity of two.\",\"color\":\"dark_gray\"}]",5:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nDispenser Pig:\",\"italic\":true},{\"text\":\"\nThe dispenser pig is used for restocking ammo for both you (the blindness arrows) and the archer (the explosive arrows.) It also provides an area of effect healing, which heals faster than your aura.\",\"color\":\"dark_gray\"}]",6:"[\"\",{\"text\":\"Weapon Overview\",\"bold\":true},{\"text\":\"\nDispenser Pig:\",\"italic\":true},{\"text\":\"\nIt can also be picked up, at the cost of not being able to attack for the duration. If it is self destructed or killed, there is a delay before you can place a new dispenser pig.\",\"color\":\"dark_gray\"}]"],title:Engineer Overview,author:french_man}
END

//Pickaxe stats: 1 attack speed, 4.5 attack damage
//>

//<Engineer Change Classes
FUNC Func_EngineerCC
	ScTG @a[$SA$,m=2,|0|,RRue=2] add RRDestructRequest
	ScTG @a[$SA$,m=2,|0|,RRpt=2] add RRDestructRequest
	@a[$SA$,m=2,|0|] RRpt = 0
	@a[$SA$,m=2,|0|] RRue = 0
	ScRE @a[$SA$,m=2,|0|] RRtd
	ScRE @a[$SA$,m=2,|0|] RRpp
	ScTG @a[$SA$,m=2,|0|] remove RRDispenserPickup
END
//>



//<Groups
:CBPArrowproofGreenSpawn CLOCK $Style$
Func_ArrowproofGreenSpawn

:CBPArrowproofBlueSpawn CLOCK $Style$
Func_ArrowproofBlueSpawn

:CBPArrowproofBlueMansion CLOCK $Style$
Func_ArrowproofBlueMansion


:CBPPortalStart PULSE $Style$
Deactivate(CBPPortalStart)
Func_PortalStart
Activate(CBPPortalClock)

:CBPPortalClock CLOCK $Style$
Func_PortalClock

:CBPPortalEnd PULSE $Style$
Deactivate(CBPPortalEnd)
Func_PortalEnd
Deactivate(CBPPortalClock)


:CBPSwitchTeams PULSE $Style$
Deactivate(CBPSwitchTeams)
Func_SwitchTeams

:CBPRemoveTeams PULSE $Style$
Deactivate(CBPRemoveTeams)
scoreboard teams remove RRg
scoreboard teams remove RRb

///:CBPRandomCommands PULSE $Style$
///Func_RandomCommands


:CBPCountdownStart PULSE $Style$
Deactivate(CBPCountdownStart)
Func_CountdownStart

:CBPCountdownClock CLOCK $Style$
Func_CountdownClock


:CBPParticleClock CLOCK $Style$
Func_ParticleClock

:CBPSimpleParticleClock CLOCK $Style$
Func_SimpleParticleClock


:CBPStealthInventoryRestore CLOCK $Style$
Func_StealthInventoryRestore

:CBPDispenserPigAsthetics CLOCK $Style$
Func_EngineerPigAstheticsClock


:CBPMainStart PULSE $Style$
Deactivate(CBPMainStart)
Func_GeneralScoreboardStart
Func_ControlPointStart
Func_StealthStart
Func_WarriorStart
Func_ArcherStart
Func_EngineerStart
Func_TeleporterStart
Activate(CBPMainClock)
Activate(CBPDispenserPigAsthetics)
Activate(CBPStealthInventoryRestore)
Activate(CBPStealthGive)
Activate(CBPWarriorGive)
Activate(CBPArcherGive)
Activate(CBPEngineerGive)


:CBPMainClock CLOCK $Style$
Func_GeneralScoreboardClock
Func_ControlPointClock
Func_StealthClock
Func_WarriorClock
Func_ArcherClock
Func_EngineerClock
Func_TeleporterClock
Func_GeneralEndClock


:CBPMainEnd PULSE $Style$
Deactivate(CBPMainEnd)
Func_GeneralScoreboardEnd
Func_ControlPointEnd
Func_StealthEnd
Func_WarriorEnd
Func_ArcherEnd
Func_EngineerEnd
Func_TeleporterEnd
Deactivate(CBPMainClock)
Deactivate(CBPParticleClock)
Deactivate(CBPSimpleParticleClock)
Deactivate(CBPDispenserPigAsthetics)
Deactivate(CBPStealthInventoryRestore)
Deactivate(CBPCountdownClock)
Deactivate(CBPArrowproofGreenSpawn)
Deactivate(CBPArrowproofBlueSpawn)
Deactivate(CBPArrowproofBlueMansion)
Deactivate(CBPPortalClock)
Deactivate(CBPStealthGive)
Deactivate(CBPWarriorGive)
Deactivate(CBPArcherGive)
Deactivate(CBPEngineerGive)


:CBPStealthGive CLOCK $Style$
testfor @a[$SA$,RRTarget0]
SetblockTestfor
Func_UniversalGive(RRTarget0)
Func_StealthGive
Func_WarriorCC(RRTarget0)
Func_ArcherCC(RRTarget0)
Func_EngineerCC(RRTarget0)
ScTG @a[$SA$,RRTarget0] remove RRTarget0

:CBPWarriorGive CLOCK $Style$
testfor @a[$SA$,RRTarget1]
SetblockTestfor
Func_UniversalGive(RRTarget1)
Func_WarriorGive
Func_StealthCC(RRTarget1)
Func_ArcherCC(RRTarget1)
Func_EngineerCC(RRTarget1)
ScTG @a[$SA$,RRTarget1] remove RRTarget1

:CBPArcherGive CLOCK $Style$
testfor @a[$SA$,RRTarget2]
SetblockTestfor
Func_UniversalGive(RRTarget2)
Func_ArcherGive
Func_StealthCC(RRTarget2)
Func_WarriorCC(RRTarget2)
Func_EngineerCC(RRTarget2)
ScTG @a[$SA$,RRTarget2] remove RRTarget2

:CBPEngineerGive CLOCK $Style$
testfor @a[$SA$,RRTarget3]
SetblockTestfor
Func_UniversalGive(RRTarget3)
Func_EngineerGive
Func_StealthCC(RRTarget3)
Func_WarriorCC(RRTarget3)
Func_ArcherCC(RRTarget3)
ScTG @a[$SA$,RRTarget3] remove RRTarget3
//>













